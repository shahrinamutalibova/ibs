{"ast":null,"code":"import { __assign, __extends, __read, __rest, __spreadArray } from \"tslib\";\nimport { clamp } from '@antv/util';\nimport { Component } from '../../core';\nimport { Line } from '../../shapes';\nimport { BBox, deepAssign, subStyleProps, formatTime } from '../../util';\nimport { Axis } from '../axis';\nimport { Slider } from '../slider';\nimport { Controller } from './controller';\nimport { ChartModeHandle, TimeModeHandle } from './handle';\nimport { labelFormatter, parseBySeries } from './utils';\nvar Timebar = /** @class */function (_super) {\n  __extends(Timebar, _super);\n  function Timebar(options) {\n    var _this = _super.call(this, deepAssign({}, Timebar.defaultOptions, options)) || this;\n    _this.axis = _this.appendChild(new Axis({\n      style: {\n        type: 'linear',\n        startPos: [0, 0],\n        endPos: [0, 0],\n        data: [],\n        showArrow: false,\n        animate: false\n      }\n    }));\n    /** 时间线 group，用于放置 timeline 或者 chart */\n    _this.timeline = _this.appendChild(new Slider({\n      style: {\n        onChange: function (values) {\n          _this.handleSliderChange(values);\n        }\n      }\n    }));\n    _this.controller = _this.appendChild(new Controller({}));\n    _this.states = {};\n    _this.handleSliderChange = function (values) {\n      var prevValues = function () {\n        var val = _this.states.values;\n        if (Array.isArray(val)) return __spreadArray([], __read(val), false);\n        return val;\n      }();\n      _this.setBySliderValues(values);\n      _this.dispatchOnChange(prevValues);\n    };\n    var _a = _this.attributes,\n      selectionType = _a.selectionType,\n      chartType = _a.chartType,\n      speed = _a.speed,\n      state = _a.state,\n      playMode = _a.playMode,\n      values = _a.values;\n    _this.states = {\n      chartType: chartType,\n      playMode: playMode,\n      selectionType: selectionType,\n      speed: speed,\n      state: state\n    };\n    _this.setByTimebarValues(values);\n    return _this;\n  }\n  Object.defineProperty(Timebar.prototype, \"data\", {\n    get: function () {\n      var data = this.attributes.data;\n      var compareFn = function (a, b) {\n        if (a.time < b.time) return -1;\n        if (a.time > b.time) return 1;\n        return 0;\n      };\n      return data.sort(compareFn);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Timebar.prototype, \"space\", {\n    /** 计算空间分配 */\n    get: function () {\n      var _a = this.attributes,\n        width = _a.width,\n        height = _a.height,\n        type = _a.type,\n        controllerHeight = _a.controllerHeight;\n      var availableTimelineHeight = clamp(+height - controllerHeight, 0, +height);\n      var controllerBBox = new BBox(0, +height - controllerHeight, +width, controllerHeight);\n      // chart 模式下可用\n      var axisBBox;\n      var axisHeight = 0;\n      if (type === 'chart') {\n        // axis 默认分配高度为 35\n        axisHeight = 35;\n        axisBBox = new BBox(0, availableTimelineHeight - axisHeight, +width, axisHeight);\n      } else axisBBox = new BBox();\n      var timelineHeight = type === 'time' ? 10 : availableTimelineHeight;\n      var timelineBBox = new BBox(0, type === 'time' ? availableTimelineHeight : availableTimelineHeight - timelineHeight, +width, timelineHeight - axisHeight);\n      return {\n        axisBBox: axisBBox,\n        controllerBBox: controllerBBox,\n        timelineBBox: timelineBBox\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Timebar.prototype.setBySliderValues = function (val) {\n    var _a, _b;\n    var data = this.data;\n    var _c = __read(Array.isArray(val) ? val : [0, val], 2),\n      startRatio = _c[0],\n      endRatio = _c[1];\n    var length = data.length;\n    var startDatum = data[Math.floor(startRatio * length)];\n    var endDatum = data[Math.ceil(endRatio * length) - (Array.isArray(val) ? 0 : 1)];\n    // 如果 endDatum 不存在，则其已经比最大的时间范围更大\n    this.states.values = [(_a = startDatum === null || startDatum === void 0 ? void 0 : startDatum.time) !== null && _a !== void 0 ? _a : data[0].time, (_b = endDatum === null || endDatum === void 0 ? void 0 : endDatum.time) !== null && _b !== void 0 ? _b : Infinity];\n  };\n  Timebar.prototype.setByTimebarValues = function (val) {\n    var _a, _b, _c;\n    var data = this.data;\n    var _d = __read(Array.isArray(val) ? val : [undefined, val], 2),\n      start = _d[0],\n      end = _d[1];\n    var startDatum = data.find(function (_a) {\n      var time = _a.time;\n      return time === start;\n    });\n    var endDatum = data.find(function (_a) {\n      var time = _a.time;\n      return time === end;\n    });\n    this.states.values = [(_a = startDatum === null || startDatum === void 0 ? void 0 : startDatum.time) !== null && _a !== void 0 ? _a : (_b = data[0]) === null || _b === void 0 ? void 0 : _b.time, (_c = endDatum === null || endDatum === void 0 ? void 0 : endDatum.time) !== null && _c !== void 0 ? _c : Infinity];\n  };\n  Timebar.prototype.setByIndex = function (index) {\n    var _a, _b, _c, _d;\n    var data = this.data;\n    var _e = __read(index, 2),\n      startIndex = _e[0],\n      endIndex = _e[1];\n    this.states.values = [(_b = (_a = data[startIndex]) === null || _a === void 0 ? void 0 : _a.time) !== null && _b !== void 0 ? _b : data[0].time, (_d = (_c = this.data[endIndex]) === null || _c === void 0 ? void 0 : _c.time) !== null && _d !== void 0 ? _d : Infinity];\n  };\n  Object.defineProperty(Timebar.prototype, \"sliderValues\", {\n    /**\n     * 获取 timebar 的 values\n     */\n    get: function () {\n      var _a = this.states,\n        values = _a.values,\n        selectionType = _a.selectionType;\n      var _b = __read(Array.isArray(values) ? values : [undefined, values], 2),\n        start = _b[0],\n        end = _b[1];\n      var data = this.data;\n      var length = data.length;\n      var isValue = selectionType === 'value';\n      var getStartValue = function () {\n        var startDatumIndex = data.findIndex(function (_a) {\n          var time = _a.time;\n          return time === start;\n        });\n        if (isValue) return 0;\n        if (startDatumIndex > -1) return startDatumIndex / length;\n        // value 模式下默认取 0\n        return 0;\n      };\n      var getEndValue = function () {\n        if (end === Infinity) return 1;\n        var endDatumIndex = data.findIndex(function (_a) {\n          var time = _a.time;\n          return time === end;\n        });\n        if (endDatumIndex > -1) return endDatumIndex / length;\n        // range 模式下默认取 1，value 模式下默认取 0.5\n        if (isValue) return 0.5;\n        return 1;\n      };\n      return [getStartValue(), getEndValue()];\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Timebar.prototype, \"values\", {\n    get: function () {\n      var _a = this.states,\n        values = _a.values,\n        selectionType = _a.selectionType;\n      var _b = __read(Array.isArray(values) ? values : [this.data[0].time, values], 2),\n        start = _b[0],\n        end = _b[1];\n      if (selectionType === 'value') return end;\n      return [start, end];\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Timebar.prototype.getDatumByRatio = function (ratio) {\n    var data = this.data;\n    var length = data.length;\n    var index = Math.floor(ratio * (length - 1));\n    return data[index];\n  };\n  Object.defineProperty(Timebar.prototype, \"chartHandleIconShape\", {\n    get: function () {\n      var selectionType = this.states.selectionType;\n      var height = this.space.timelineBBox.height;\n      if (selectionType === 'range') return function (type) {\n        return new ChartModeHandle({\n          style: {\n            type: type,\n            height: height,\n            iconSize: height / 6\n          }\n        });\n      };\n      return function () {\n        return new Line({\n          style: {\n            x1: 0,\n            y1: -height / 2,\n            x2: 0,\n            y2: height / 2,\n            lineWidth: 2,\n            stroke: '#c8c8c8'\n          }\n        });\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Timebar.prototype.getChartStyle = function (bbox) {\n    var _this = this;\n    var x = bbox.x,\n      y = bbox.y,\n      width = bbox.width,\n      height = bbox.height;\n    var _a = this.states,\n      selectionType = _a.selectionType,\n      chartType = _a.chartType;\n    var data = this.data;\n    var _b = this.attributes,\n      type = _b.type,\n      userDefinedLabelFormatter = _b.labelFormatter;\n    var _c = subStyleProps(this.attributes, 'chart'),\n      ignoreType = _c.type,\n      userDefinedChartStyle = __rest(_c, [\"type\"]);\n    var isRange = selectionType === 'range';\n    if (type === 'time') {\n      return __assign({\n        handleIconShape: function () {\n          return new TimeModeHandle({});\n        },\n        selectionFill: '#2e7ff8',\n        selectionFillOpacity: 1,\n        showLabelOnInteraction: true,\n        handleLabelDy: isRange ? -15 : 0,\n        autoFitLabel: isRange,\n        handleSpacing: isRange ? -15 : 0,\n        trackFill: '#edeeef',\n        trackLength: width,\n        trackOpacity: 0.5,\n        trackRadius: height / 2,\n        trackSize: height / 2,\n        type: selectionType,\n        values: this.sliderValues,\n        formatter: function (value) {\n          if (userDefinedLabelFormatter) return userDefinedLabelFormatter(value);\n          var time = _this.getDatumByRatio(value).time;\n          if (typeof time === 'number') return parseBySeries(time);\n          return formatTime(time, 'YYYY-MM-DD HH:mm:ss');\n        },\n        x: x,\n        y: y,\n        zIndex: 1\n      }, userDefinedChartStyle);\n    }\n    // type === 'chart'\n    var handleIconOffset = selectionType === 'range' ? 5 : 0;\n    var sparklineData = data.map(function (_a) {\n      var value = _a.value;\n      return value;\n    });\n    return __assign({\n      handleIconOffset: handleIconOffset,\n      handleIconShape: this.chartHandleIconShape,\n      selectionFill: '#fff',\n      selectionFillOpacity: 0.5,\n      selectionType: 'invert',\n      sparklineSpacing: 0.1,\n      sparklineColumnLineWidth: 0,\n      sparklineColor: '#d4e5fd',\n      sparklineAreaOpacity: 1,\n      sparklineAreaLineWidth: 0,\n      sparklineData: sparklineData,\n      sparklineType: chartType,\n      sparklineScale: 0.8,\n      trackLength: width,\n      trackSize: height,\n      type: selectionType,\n      values: this.sliderValues,\n      x: x,\n      y: y,\n      zIndex: 1\n    }, userDefinedChartStyle);\n  };\n  Timebar.prototype.renderChart = function (bbox) {\n    if (bbox === void 0) {\n      bbox = this.space.timelineBBox;\n    }\n    this.timeline.update(this.getChartStyle(bbox));\n  };\n  Timebar.prototype.updateSelection = function () {\n    this.timeline.setValues(this.sliderValues, true);\n    this.handleSliderChange(this.sliderValues);\n  };\n  Timebar.prototype.getAxisStyle = function (bbox) {\n    var data = this.data;\n    var _a = this.attributes,\n      interval = _a.interval,\n      userDefinedLabelFormatter = _a.labelFormatter;\n    var userDefinedAxisStyle = subStyleProps(this.attributes, 'axis');\n    var x = bbox.x,\n      y = bbox.y,\n      width = bbox.width;\n    // 需要补一个刻度\n    var axisData = __spreadArray(__spreadArray([], __read(data), false), [{\n      time: 0\n    }], false).map(function (_a, index, arr) {\n      var time = _a.time;\n      return {\n        label: \"\".concat(time),\n        value: index / (arr.length - 1),\n        time: time\n      };\n    });\n    var style = __assign({\n      startPos: [x, y],\n      endPos: [x + width, y],\n      data: axisData,\n      // hide last label\n      labelFilter: function (_datum, index) {\n        return index < axisData.length - 1;\n      },\n      labelFormatter: function (_a) {\n        var time = _a.time;\n        return userDefinedLabelFormatter ? userDefinedLabelFormatter(time) : labelFormatter(time, interval);\n      }\n    }, userDefinedAxisStyle);\n    return style;\n  };\n  Timebar.prototype.renderAxis = function (bbox) {\n    if (bbox === void 0) {\n      bbox = this.space.axisBBox;\n    }\n    var type = this.attributes.type;\n    if (type !== 'chart') return;\n    this.axis.update(this.getAxisStyle(bbox));\n  };\n  Timebar.prototype.renderController = function (bbox) {\n    if (bbox === void 0) {\n      bbox = this.space.controllerBBox;\n    }\n    var type = this.attributes.type;\n    var _a = this.states,\n      state = _a.state,\n      speed = _a.speed,\n      selectionType = _a.selectionType,\n      chartType = _a.chartType;\n    var userDefinedControllerStyle = subStyleProps(this.attributes, 'controller');\n    var that = this;\n    var style = __assign(__assign(__assign({}, bbox), {\n      iconSize: 20,\n      speed: speed,\n      state: state,\n      selectionType: selectionType,\n      chartType: chartType,\n      onChange: function (type, _a) {\n        var value = _a.value;\n        switch (type) {\n          case 'reset':\n            that.internalReset();\n            break;\n          case 'speed':\n            that.handleSpeedChange(value);\n            break;\n          case 'backward':\n            that.internalBackward();\n            break;\n          case 'playPause':\n            if (value === 'play') that.internalPlay();else that.internalPause();\n            break;\n          case 'forward':\n            that.internalForward();\n            break;\n          case 'selectionType':\n            that.handleSelectionTypeChange(value);\n            break;\n          case 'chartType':\n            that.handleChartTypeChange(value);\n            break;\n          default:\n            break;\n        }\n      }\n    }), userDefinedControllerStyle);\n    if (type === 'time') {\n      style.functions = [['reset', 'speed'], ['backward', 'playPause', 'forward'], ['selectionType']];\n    }\n    this.controller.update(style);\n  };\n  Timebar.prototype.dispatchOnChange = function (prevValues) {\n    var data = this.data;\n    var onChange = this.attributes.onChange;\n    var _a = this.states,\n      values = _a.values,\n      selectionType = _a.selectionType;\n    var _b = __read(values, 2),\n      start = _b[0],\n      end = _b[1];\n    var endTime = end === Infinity ? data.at(-1).time : end;\n    var newValues = selectionType === 'range' ? [start, endTime] : endTime;\n    var isEqual = function (val1, val2) {\n      if (Array.isArray(val1)) {\n        if (!Array.isArray(val2)) return false;\n        if (val1[0] === val2[0]) {\n          if (val1[1] === val2[1]) return true;\n          if (val1[1] === Infinity || val2[1] === Infinity) return true;\n        }\n        return false;\n      }\n      if (Array.isArray(val2)) return false;\n      return val1 === val2;\n    };\n    // 如果和当前值不同，才响应\n    if (!prevValues || !isEqual(prevValues, newValues)) {\n      onChange === null || onChange === void 0 ? void 0 : onChange(selectionType === 'range' ? [start, endTime] : endTime);\n    }\n  };\n  Timebar.prototype.internalReset = function (preventEvent) {\n    var _a, _b;\n    var selectionType = this.states.selectionType;\n    this.internalPause();\n    this.setBySliderValues(selectionType === 'range' ? [0, 1] : [0, 0]);\n    this.renderController();\n    this.updateSelection();\n    if (!preventEvent) {\n      (_b = (_a = this.attributes) === null || _a === void 0 ? void 0 : _a.onReset) === null || _b === void 0 ? void 0 : _b.call(_a);\n      this.dispatchOnChange();\n    }\n  };\n  Timebar.prototype.reset = function () {\n    this.internalReset();\n  };\n  Timebar.prototype.moveSelection = function (direction, preventEvent) {\n    var data = this.data;\n    var length = data.length;\n    var _a = this.states,\n      values = _a.values,\n      selectionType = _a.selectionType,\n      playMode = _a.playMode;\n    var _b = __read(values, 2),\n      startTime = _b[0],\n      endTime = _b[1];\n    var startIndex = data.findIndex(function (_a) {\n      var time = _a.time;\n      return time === startTime;\n    });\n    var endIndex = data.findIndex(function (_a) {\n      var time = _a.time;\n      return time === endTime;\n    });\n    if (endIndex === -1) endIndex = length;\n    var diff = direction === 'backward' ? -1 : 1;\n    var currentIndexes;\n    if (selectionType === 'range') {\n      // end 后移一个时间间隔\n      if (playMode === 'acc') {\n        currentIndexes = [startIndex, endIndex + diff];\n        // 如果回退过程中，start 和 end 相遇，则 end 重置到 length\n        if (diff === -1 && startIndex === endIndex) {\n          currentIndexes = [startIndex, length];\n        }\n      }\n      // start, end 后移一个时间间隔\n      else currentIndexes = [startIndex + diff, endIndex + diff];\n    }\n    // end 后移一个时间间隔\n    else currentIndexes = [startIndex, endIndex + diff];\n    var normalizeIndexes = function (indexes) {\n      // 先进行排序\n      var _a = __read(indexes.sort(function (a, b) {\n          return a - b;\n        }), 2),\n        start = _a[0],\n        end = _a[1];\n      // 保证 index 在 [0, length]\n      var clampIndex = function (index) {\n        return clamp(index, 0, length);\n      };\n      // 如果 end 超出最大值\n      if (end > length) {\n        // value 模式下，重置到 0\n        if (selectionType === 'value') return [0, 0];\n        // 移动到 start\n        if (playMode === 'acc') return [clampIndex(start), clampIndex(start)];\n        // 整体移动到起始位置\n        return [0, clampIndex(end - start)];\n      }\n      // 如果是倒放，到头时，整体移动到末尾\n      if (start < 0) {\n        if (playMode === 'acc') return [0, clampIndex(end)];\n        return [clampIndex(start + length - end), length];\n      }\n      return [clampIndex(start), clampIndex(end)];\n    };\n    var normalizedIndexes = normalizeIndexes(currentIndexes);\n    this.setByIndex(normalizedIndexes);\n    this.updateSelection();\n    return normalizedIndexes;\n  };\n  Timebar.prototype.internalBackward = function (preventEvent) {\n    var _a, _b;\n    var indexes = this.moveSelection('backward', preventEvent);\n    if (!preventEvent) {\n      (_b = (_a = this.attributes) === null || _a === void 0 ? void 0 : _a.onBackward) === null || _b === void 0 ? void 0 : _b.call(_a);\n      this.dispatchOnChange();\n    }\n    return indexes;\n  };\n  Timebar.prototype.backward = function () {\n    this.internalBackward();\n  };\n  Timebar.prototype.internalPlay = function (preventEvent) {\n    var _this = this;\n    var _a, _b;\n    var data = this.data;\n    var loop = this.attributes.loop;\n    var _c = this.states.speed,\n      speed = _c === void 0 ? 1 : _c;\n    this.playInterval = window.setInterval(function () {\n      var indexes = _this.internalForward();\n      // 如果不是循环播放，则播放到最后一个值时暂停\n      if (indexes[1] === data.length && !loop) {\n        // 这里需要抛出暂停事件\n        _this.internalPause();\n        _this.renderController();\n      }\n    }, 1000 / speed);\n    this.states.state = 'play';\n    !preventEvent && ((_b = (_a = this.attributes) === null || _a === void 0 ? void 0 : _a.onPlay) === null || _b === void 0 ? void 0 : _b.call(_a));\n  };\n  Timebar.prototype.play = function () {\n    this.internalPlay();\n  };\n  Timebar.prototype.internalPause = function (preventEvent) {\n    var _a, _b;\n    clearInterval(this.playInterval);\n    this.states.state = 'pause';\n    !preventEvent && ((_b = (_a = this.attributes) === null || _a === void 0 ? void 0 : _a.onPause) === null || _b === void 0 ? void 0 : _b.call(_a));\n  };\n  Timebar.prototype.pause = function () {\n    this.internalPause();\n  };\n  Timebar.prototype.internalForward = function (preventEvent) {\n    var _a, _b;\n    var indexes = this.moveSelection('forward', preventEvent);\n    if (!preventEvent) {\n      (_b = (_a = this.attributes) === null || _a === void 0 ? void 0 : _a.onForward) === null || _b === void 0 ? void 0 : _b.call(_a);\n      this.dispatchOnChange();\n    }\n    return indexes;\n  };\n  Timebar.prototype.forward = function () {\n    this.internalForward();\n  };\n  Timebar.prototype.handleSpeedChange = function (value) {\n    var _a, _b;\n    this.states.speed = value;\n    var state = this.states.state;\n    if (state === 'play') {\n      // 重新设定 interval\n      this.internalPause(true);\n      this.internalPlay(true);\n    }\n    (_b = (_a = this.attributes) === null || _a === void 0 ? void 0 : _a.onSpeedChange) === null || _b === void 0 ? void 0 : _b.call(_a, value);\n  };\n  Timebar.prototype.handleSelectionTypeChange = function (type) {\n    var _a, _b;\n    this.states.selectionType = type;\n    this.renderChart();\n    (_b = (_a = this.attributes) === null || _a === void 0 ? void 0 : _a.onSelectionTypeChange) === null || _b === void 0 ? void 0 : _b.call(_a, type);\n  };\n  Timebar.prototype.handleChartTypeChange = function (type) {\n    var _a, _b;\n    this.states.chartType = type;\n    this.renderChart();\n    (_b = (_a = this.attributes) === null || _a === void 0 ? void 0 : _a.onChartTypeChange) === null || _b === void 0 ? void 0 : _b.call(_a, type);\n  };\n  Timebar.prototype.render = function () {\n    var _a = this.space,\n      axisBBox = _a.axisBBox,\n      controllerBBox = _a.controllerBBox,\n      timelineBBox = _a.timelineBBox;\n    this.renderController(controllerBBox);\n    this.renderAxis(axisBBox);\n    this.renderChart(timelineBBox);\n    if (this.states.state === 'play') this.internalPlay();\n  };\n  Timebar.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n    this.internalPause(true);\n  };\n  Timebar.defaultOptions = {\n    style: {\n      axisLabelFill: '#6e6e6e',\n      axisLabelTextAlign: 'left',\n      axisLabelTextBaseline: 'top',\n      axisLabelTransform: 'translate(5, -12)',\n      axisLineLineWidth: 1,\n      axisLineStroke: '#cacdd1',\n      axisTickLength: 15,\n      axisTickLineWidth: 1,\n      axisTickStroke: '#cacdd1',\n      chartShowLabel: false,\n      chartType: 'line',\n      controllerAlign: 'center',\n      controllerHeight: 40,\n      data: [],\n      interval: 'day',\n      loop: false,\n      playMode: 'acc',\n      selectionType: 'range',\n      type: 'time'\n    }\n  };\n  return Timebar;\n}(Component);\nexport { Timebar };","map":{"version":3,"names":["clamp","Component","Line","BBox","deepAssign","subStyleProps","formatTime","Axis","Slider","Controller","ChartModeHandle","TimeModeHandle","labelFormatter","parseBySeries","Timebar","_super","__extends","options","_this","call","defaultOptions","axis","appendChild","style","type","startPos","endPos","data","showArrow","animate","timeline","onChange","values","handleSliderChange","controller","states","prevValues","val","Array","isArray","__spreadArray","__read","setBySliderValues","dispatchOnChange","_a","attributes","selectionType","chartType","speed","state","playMode","setByTimebarValues","Object","defineProperty","prototype","get","compareFn","a","b","time","sort","width","height","controllerHeight","availableTimelineHeight","controllerBBox","axisBBox","axisHeight","timelineHeight","timelineBBox","_c","startRatio","endRatio","length","startDatum","Math","floor","endDatum","ceil","_b","Infinity","_d","undefined","start","end","find","setByIndex","index","_e","startIndex","endIndex","isValue","getStartValue","startDatumIndex","findIndex","getEndValue","endDatumIndex","getDatumByRatio","ratio","space","iconSize","x1","y1","x2","y2","lineWidth","stroke","getChartStyle","bbox","x","y","userDefinedLabelFormatter","ignoreType","userDefinedChartStyle","__rest","isRange","__assign","handleIconShape","selectionFill","selectionFillOpacity","showLabelOnInteraction","handleLabelDy","autoFitLabel","handleSpacing","trackFill","trackLength","trackOpacity","trackRadius","trackSize","sliderValues","formatter","value","zIndex","handleIconOffset","sparklineData","map","chartHandleIconShape","sparklineSpacing","sparklineColumnLineWidth","sparklineColor","sparklineAreaOpacity","sparklineAreaLineWidth","sparklineType","sparklineScale","renderChart","update","updateSelection","setValues","getAxisStyle","interval","userDefinedAxisStyle","axisData","arr","label","concat","labelFilter","_datum","renderAxis","renderController","userDefinedControllerStyle","that","internalReset","handleSpeedChange","internalBackward","internalPlay","internalPause","internalForward","handleSelectionTypeChange","handleChartTypeChange","functions","endTime","at","newValues","isEqual","val1","val2","preventEvent","onReset","reset","moveSelection","direction","startTime","diff","currentIndexes","normalizeIndexes","indexes","clampIndex","normalizedIndexes","onBackward","backward","loop","playInterval","window","setInterval","onPlay","play","clearInterval","onPause","pause","onForward","forward","onSpeedChange","onSelectionTypeChange","onChartTypeChange","render","destroy","axisLabelFill","axisLabelTextAlign","axisLabelTextBaseline","axisLabelTransform","axisLineLineWidth","axisLineStroke","axisTickLength","axisTickLineWidth","axisTickStroke","chartShowLabel","controllerAlign"],"sources":["ui/timebar/timebar.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}