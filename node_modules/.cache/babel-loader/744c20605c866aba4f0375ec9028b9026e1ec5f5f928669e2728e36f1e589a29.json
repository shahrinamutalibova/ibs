{"ast":null,"code":"var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport { isCircular } from '../../../utils/coordinate';\nimport { inferOutsideCircularStyle, radiusOf, angleOf } from './outside';\n/**\n * Spider label transform only suitable for the labels in polar coordinate, labels should distinguish coordinate type.\n */\nexport function spider(position, points, value, coordinate) {\n  if (!isCircular(coordinate)) return {};\n  const {\n    connectorLength,\n    connectorLength2,\n    connectorDistance\n  } = value;\n  const style = __rest(inferOutsideCircularStyle('outside', points, value, coordinate), []);\n  const center = coordinate.getCenter();\n  const radius = radiusOf(points, value, coordinate);\n  const angle = angleOf(points, value, coordinate);\n  const radius1 = radius + connectorLength + connectorLength2;\n  const sign = Math.sin(angle) > 0 ? 1 : -1;\n  const newX = center[0] + (radius1 + +connectorDistance) * sign;\n  const {\n    x: originX\n  } = style;\n  const dx = newX - originX;\n  style.x += dx;\n  style.connectorPoints[0][0] -= dx;\n  return style;\n}","map":{"version":3,"names":["isCircular","inferOutsideCircularStyle","radiusOf","angleOf","spider","position","points","value","coordinate","connectorLength","connectorLength2","connectorDistance","style","__rest","center","getCenter","radius","angle","radius1","sign","Math","sin","newX","x","originX","dx","connectorPoints"],"sources":["shape/label/position/spider.ts"],"sourcesContent":[null],"mappings":";;;;;;;;AAEA,SAASA,UAAU,QAAQ,2BAA2B;AAEtD,SAASC,yBAAyB,EAAEC,QAAQ,EAAEC,OAAO,QAAQ,WAAW;AAExE;;;AAGA,OAAM,SAAUC,MAAMA,CACpBC,QAAuB,EACvBC,MAAiB,EACjBC,KAA0B,EAC1BC,UAAsB;EAEtB,IAAI,CAACR,UAAU,CAACQ,UAAU,CAAC,EAAE,OAAO,EAAE;EACtC,MAAM;IAAEC,eAAe;IAAEC,gBAAgB;IAAEC;EAAiB,CAAE,GAAGJ,KAAK;EAEtE,MAAWK,KAAK,GAAAC,MAAA,CAAUZ,yBAAyB,CACjD,SAAS,EACTK,MAAM,EACNC,KAAK,EACLC,UAAU,CACX,EALK,EAAY,CAKjB;EACD,MAAMM,MAAM,GAAGN,UAAU,CAACO,SAAS,EAAE;EACrC,MAAMC,MAAM,GAAGd,QAAQ,CAACI,MAAM,EAAEC,KAAK,EAAEC,UAAU,CAAC;EAClD,MAAMS,KAAK,GAAGd,OAAO,CAACG,MAAM,EAAEC,KAAK,EAAEC,UAAU,CAAC;EAChD,MAAMU,OAAO,GAAGF,MAAM,GAAGP,eAAe,GAAGC,gBAAgB;EAC3D,MAAMS,IAAI,GAAGC,IAAI,CAACC,GAAG,CAACJ,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;EAEzC,MAAMK,IAAI,GAAGR,MAAM,CAAC,CAAC,CAAC,GAAG,CAACI,OAAO,GAAG,CAACP,iBAAiB,IAAIQ,IAAI;EAE9D,MAAM;IAAEI,CAAC,EAAEC;EAAO,CAAE,GAAGZ,KAAK;EAC5B,MAAMa,EAAE,GAAGH,IAAI,GAAGE,OAAO;EACzBZ,KAAK,CAACW,CAAC,IAAIE,EAAE;EACbb,KAAK,CAACc,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAID,EAAE;EAEjC,OAAOb,KAAK;AACd"},"metadata":{},"sourceType":"module","externalDependencies":[]}