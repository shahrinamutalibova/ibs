{"ast":null,"code":"import { __assign, __extends, __read } from \"tslib\";\nimport { CustomEvent } from '@antv/g';\nimport { clamp } from '@antv/util';\nimport { transition } from '../../animation';\nimport { Component } from '../../core';\nimport { Text } from '../../shapes';\nimport { getEventPos, ifShow, parseSeriesAttr, select, subStyleProps, superStyleProps, toPrecision } from '../../util';\nimport { Sparkline } from '../sparkline';\nimport { CLASS_NAMES, HANDLE_DEFAULT_CFG, HANDLE_ICON_DEFAULT_CFG, HANDLE_LABEL_DEFAULT_CFG } from './constant';\nimport { Handle } from './handle';\nvar Slider = /** @class */function (_super) {\n  __extends(Slider, _super);\n  function Slider(options) {\n    var _this = _super.call(this, options, __assign(__assign(__assign({\n      animate: {\n        duration: 100,\n        fill: 'both'\n      },\n      brushable: true,\n      formatter: function (val) {\n        return val.toString();\n      },\n      handleSpacing: 2,\n      orientation: 'horizontal',\n      padding: 0,\n      autoFitLabel: true,\n      scrollable: true,\n      selectionFill: '#5B8FF9',\n      selectionFillOpacity: 0.45,\n      selectionZIndex: 2,\n      showHandle: true,\n      showLabel: true,\n      slidable: true,\n      trackFill: '#416180',\n      trackLength: 200,\n      trackOpacity: 0.05,\n      trackSize: 20,\n      trackZIndex: -1,\n      values: [0, 1],\n      type: 'range',\n      selectionType: 'select',\n      handleIconOffset: 0\n    }, superStyleProps(HANDLE_DEFAULT_CFG, 'handle')), superStyleProps(HANDLE_ICON_DEFAULT_CFG, 'handleIcon')), superStyleProps(HANDLE_LABEL_DEFAULT_CFG, 'handleLabel'))) || this;\n    _this.range = [0, 1];\n    _this.onDragStart = function (target) {\n      return function (e) {\n        e.stopPropagation();\n        _this.target = target;\n        _this.prevPos = _this.getOrientVal(getEventPos(e));\n        var _a = _this.availableSpace,\n          x = _a.x,\n          y = _a.y;\n        var _b = _this.getBBox(),\n          X = _b.x,\n          Y = _b.y;\n        _this.selectionStartPos = _this.getRatio(_this.prevPos - _this.getOrientVal([x, y]) - _this.getOrientVal([+X, +Y]));\n        _this.selectionWidth = 0;\n        document.addEventListener('pointermove', _this.onDragging);\n        document.addEventListener('pointerup', _this.onDragEnd);\n      };\n    };\n    _this.onDragging = function (e) {\n      var _a = _this.attributes,\n        slidable = _a.slidable,\n        brushable = _a.brushable,\n        type = _a.type;\n      e.stopPropagation();\n      var currPos = _this.getOrientVal(getEventPos(e));\n      var diffPos = currPos - _this.prevPos;\n      if (!diffPos) return;\n      var deltaVal = _this.getRatio(diffPos);\n      switch (_this.target) {\n        case 'start':\n          if (slidable) _this.setValuesOffset(deltaVal);\n          break;\n        case 'end':\n          if (slidable) _this.setValuesOffset(0, deltaVal);\n          break;\n        case 'selection':\n          if (slidable) _this.setValuesOffset(deltaVal, deltaVal);\n          break;\n        case 'track':\n          if (!brushable) return;\n          // 绘制蒙板\n          _this.selectionWidth += deltaVal;\n          if (type === 'range') {\n            _this.innerSetValues([_this.selectionStartPos, _this.selectionStartPos + _this.selectionWidth].sort(), true);\n          } else _this.innerSetValues([0, _this.selectionStartPos + _this.selectionWidth], true);\n          break;\n        default:\n          break;\n      }\n      _this.prevPos = currPos;\n    };\n    _this.onDragEnd = function () {\n      document.removeEventListener('pointermove', _this.onDragging);\n      document.removeEventListener('pointermove', _this.onDragging);\n      document.removeEventListener('pointerup', _this.onDragEnd);\n      _this.target = '';\n      // 更新 handle 状态\n      _this.updateHandlesPosition(false);\n    };\n    _this.onValueChange = function (oldValue) {\n      var _a = _this.attributes,\n        onChange = _a.onChange,\n        type = _a.type;\n      var internalOldValue = type === 'range' ? oldValue : oldValue[1];\n      var value = type === 'range' ? _this.getValues() : _this.getValues()[1];\n      var evt = new CustomEvent('valuechange', {\n        detail: {\n          oldValue: internalOldValue,\n          value: value\n        }\n      });\n      _this.dispatchEvent(evt);\n      onChange === null || onChange === void 0 ? void 0 : onChange(value);\n    };\n    _this.selectionStartPos = 0;\n    _this.selectionWidth = 0;\n    _this.prevPos = 0;\n    _this.target = '';\n    return _this;\n  }\n  Object.defineProperty(Slider.prototype, \"values\", {\n    get: function () {\n      return this.attributes.values;\n    },\n    set: function (values) {\n      this.attributes.values = this.clampValues(values);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Slider.prototype, \"sparklineStyle\", {\n    get: function () {\n      var orientation = this.attributes.orientation;\n      if (orientation !== 'horizontal') return null;\n      var attr = subStyleProps(this.attributes, 'sparkline');\n      return __assign(__assign({\n        zIndex: 0\n      }, this.availableSpace), attr);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Slider.prototype, \"shape\", {\n    get: function () {\n      var _a = this.attributes,\n        trackLength = _a.trackLength,\n        trackSize = _a.trackSize;\n      var _b = __read(this.getOrientVal([[trackLength, trackSize], [trackSize, trackLength]]), 2),\n        width = _b[0],\n        height = _b[1];\n      return {\n        width: width,\n        height: height\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Slider.prototype, \"availableSpace\", {\n    get: function () {\n      var padding = this.attributes.padding;\n      var _a = __read(parseSeriesAttr(padding), 4),\n        top = _a[0],\n        right = _a[1],\n        bottom = _a[2],\n        left = _a[3];\n      var _b = this.shape,\n        width = _b.width,\n        height = _b.height;\n      return {\n        x: left,\n        y: top,\n        width: width - (left + right),\n        height: height - (top + bottom)\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Slider.prototype.getValues = function () {\n    return this.values;\n  };\n  /** 不触发重绘 */\n  Slider.prototype.setValues = function (values, animate) {\n    if (values === void 0) {\n      values = [0, 0];\n    }\n    if (animate === void 0) {\n      animate = false;\n    }\n    this.attributes.values = values;\n    var animation = animate === false ? false : this.attributes.animate;\n    this.updateSelectionArea(animation);\n    this.updateHandlesPosition(animation);\n  };\n  Slider.prototype.updateSelectionArea = function (animation) {\n    var newSelectionArea = this.calcSelectionArea();\n    this.foregroundGroup.selectAll(CLASS_NAMES.selection.class).each(function (datum, index) {\n      transition(this, newSelectionArea[index], animation);\n    });\n  };\n  Slider.prototype.updateHandlesPosition = function (animation) {\n    if (!this.attributes.showHandle) return;\n    this.startHandle && transition(this.startHandle, this.getHandleStyle('start'), animation);\n    this.endHandle && transition(this.endHandle, this.getHandleStyle('end'), animation);\n  };\n  Slider.prototype.innerSetValues = function (values, trigger) {\n    if (values === void 0) {\n      values = [0, 0];\n    }\n    if (trigger === void 0) {\n      trigger = false;\n    }\n    var oldValues = this.values;\n    var newValues = this.clampValues(values);\n    this.attributes.values = newValues;\n    this.setValues(newValues);\n    if (trigger) {\n      this.onValueChange(oldValues);\n    }\n  };\n  Slider.prototype.renderTrack = function (container) {\n    var style = subStyleProps(this.attributes, 'track');\n    this.trackShape = select(container).maybeAppendByClassName(CLASS_NAMES.track, 'rect').styles(__assign(__assign({}, this.shape), style));\n  };\n  Slider.prototype.renderBrushArea = function (container) {\n    var brushable = this.attributes.brushable;\n    this.brushArea = select(container).maybeAppendByClassName(CLASS_NAMES.brushArea, 'rect').styles(__assign({\n      fill: 'transparent',\n      cursor: brushable ? 'crosshair' : 'default'\n    }, this.shape));\n  };\n  Slider.prototype.renderSparkline = function (container) {\n    var _this = this;\n    var orientation = this.attributes.orientation;\n    var sparklineGroup = select(container).maybeAppendByClassName(CLASS_NAMES.sparklineGroup, 'g');\n    ifShow(orientation === 'horizontal', sparklineGroup, function (group) {\n      var style = _this.sparklineStyle;\n      group.maybeAppendByClassName(CLASS_NAMES.sparkline, function () {\n        return new Sparkline({\n          style: style\n        });\n      }).update(style);\n    });\n  };\n  Slider.prototype.renderHandles = function () {\n    var _this = this;\n    var _a;\n    var _b = this.attributes,\n      showHandle = _b.showHandle,\n      type = _b.type;\n    var availableHandle = type === 'range' ? ['start', 'end'] : ['end'];\n    var data = showHandle ? availableHandle : [];\n    var that = this;\n    (_a = this.foregroundGroup) === null || _a === void 0 ? void 0 : _a.selectAll(CLASS_NAMES.handle.class).data(data.map(function (type) {\n      return {\n        type: type\n      };\n    }), function (d) {\n      return d.type;\n    }).join(function (enter) {\n      return enter.append(function (_a) {\n        var type = _a.type;\n        return new Handle({\n          style: _this.getHandleStyle(type)\n        });\n      }).each(function (_a) {\n        var type = _a.type;\n        this.attr('class', \"\".concat(CLASS_NAMES.handle.name, \" \").concat(type, \"-handle\"));\n        var name = \"\".concat(type, \"Handle\");\n        that[name] = this;\n        this.addEventListener('pointerdown', that.onDragStart(type));\n      });\n    }, function (update) {\n      return update.each(function (_a) {\n        var type = _a.type;\n        this.update(that.getHandleStyle(type));\n      });\n    }, function (exit) {\n      return exit.each(function (_a) {\n        var type = _a.type;\n        var name = \"\".concat(type, \"Handle\");\n        that[name] = undefined;\n      }).remove();\n    });\n  };\n  Slider.prototype.renderSelection = function (container) {\n    var _a = this.attributes,\n      type = _a.type,\n      selectionType = _a.selectionType;\n    this.foregroundGroup = select(container).maybeAppendByClassName(CLASS_NAMES.foreground, 'g');\n    // value 类型的 slider 不渲染选区\n    var selectionStyle = subStyleProps(this.attributes, 'selection');\n    var applyStyle = function (selection) {\n      return selection.style('visibility', function (d) {\n        return d.show ? 'visible' : 'hidden';\n      }).style('cursor', function (d) {\n        if (selectionType === 'select') return 'grab';\n        if (selectionType === 'invert') return 'crosshair';\n        return 'default';\n      }).styles(selectionStyle);\n    };\n    var that = this;\n    this.foregroundGroup.selectAll(CLASS_NAMES.selection.class).data(type === 'value' ? [] : this.calcSelectionArea().map(function (area, index) {\n      return {\n        style: __assign({}, area),\n        index: index,\n        // 是否可见\n        show: selectionType === 'select' ? index === 1 : index !== 1\n      };\n    }), function (d) {\n      return d.index;\n    }).join(function (enter) {\n      return enter.append('rect').attr('className', CLASS_NAMES.selection.name).call(applyStyle).each(function (datum, index) {\n        var _this = this;\n        if (index === 1) {\n          that.selectionShape = select(this);\n          // 选区drag事件\n          this.on('pointerdown', function (e) {\n            _this.attr('cursor', 'grabbing');\n            that.onDragStart('selection')(e);\n          });\n          // 选区hover事件\n          that.dispatchCustomEvent(this, 'pointerenter', 'selectionMouseenter');\n          that.dispatchCustomEvent(this, 'pointerleave', 'selectionMouseleave');\n          that.dispatchCustomEvent(this, 'click', 'selectionClick');\n          // 拖拽交互\n          this.addEventListener('pointerdown', function () {\n            _this.attr('cursor', 'grabbing');\n          });\n          this.addEventListener('pointerup', function () {\n            _this.attr('cursor', 'pointer');\n          });\n          this.addEventListener('pointerover', function () {\n            _this.attr('cursor', 'pointer');\n          });\n        } else {\n          this.on('pointerdown', that.onDragStart('track'));\n        }\n      });\n    }, function (update) {\n      return update.call(applyStyle);\n    }, function (exit) {\n      return exit.remove();\n    });\n    this.updateSelectionArea(false);\n    this.renderHandles();\n  };\n  Slider.prototype.render = function (attributes, container) {\n    this.renderTrack(container);\n    this.renderSparkline(container);\n    this.renderBrushArea(container);\n    this.renderSelection(container);\n  };\n  Slider.prototype.clampValues = function (values, precision) {\n    var _a;\n    if (precision === void 0) {\n      precision = 4;\n    }\n    var _b = __read(this.range, 2),\n      min = _b[0],\n      max = _b[1];\n    var _c = __read(this.getValues().map(function (num) {\n        return toPrecision(num, precision);\n      }), 2),\n      prevStart = _c[0],\n      prevEnd = _c[1];\n    var internalValues = Array.isArray(values) ? values : [prevStart, values !== null && values !== void 0 ? values : prevEnd];\n    var _d = __read((internalValues || [prevStart, prevEnd]).map(function (num) {\n        return toPrecision(num, precision);\n      }), 2),\n      startVal = _d[0],\n      endVal = _d[1];\n    if (this.attributes.type === 'value') return [0, clamp(endVal, min, max)];\n    // 交换startVal endVal\n    if (startVal > endVal) {\n      _a = __read([endVal, startVal], 2), startVal = _a[0], endVal = _a[1];\n    }\n    var range = endVal - startVal;\n    // 超出范围就全选\n    if (range > max - min) return [min, max];\n    if (startVal < min) {\n      if (prevStart === min && prevEnd === endVal) return [min, endVal];\n      return [min, range + min];\n    }\n    if (endVal > max) {\n      if (prevEnd === max && prevStart === startVal) return [startVal, max];\n      return [max - range, max];\n    }\n    // 保留小数\n    return [startVal, endVal];\n  };\n  /**\n   * 计算选区坐标和宽高\n   * 默认用来计算前景位置大小\n   */\n  Slider.prototype.calcSelectionArea = function (values) {\n    var _a = __read(this.clampValues(values), 2),\n      start = _a[0],\n      end = _a[1];\n    var _b = this.availableSpace,\n      x = _b.x,\n      y = _b.y,\n      width = _b.width,\n      height = _b.height;\n    // 中间为选区，两端为反选区\n    return this.getOrientVal([[{\n      y: y,\n      height: height,\n      x: x,\n      width: start * width\n    }, {\n      y: y,\n      height: height,\n      x: start * width + x,\n      width: (end - start) * width\n    }, {\n      y: y,\n      height: height,\n      x: end * width,\n      width: (1 - end) * width\n    }], [{\n      x: x,\n      width: width,\n      y: y,\n      height: start * height\n    }, {\n      x: x,\n      width: width,\n      y: start * height + y,\n      height: (end - start) * height\n    }, {\n      x: x,\n      width: width,\n      y: end * height,\n      height: (1 - end) * height\n    }]]);\n  };\n  /**\n   * 计算手柄的x y\n   */\n  Slider.prototype.calcHandlePosition = function (handleType) {\n    var handleIconOffset = this.attributes.handleIconOffset;\n    var _a = this.availableSpace,\n      x = _a.x,\n      y = _a.y,\n      width = _a.width,\n      height = _a.height;\n    var _b = __read(this.clampValues(), 2),\n      stVal = _b[0],\n      endVal = _b[1];\n    var offset = handleType === 'start' ? -handleIconOffset : handleIconOffset;\n    var L = (handleType === 'start' ? stVal : endVal) * this.getOrientVal([width, height]) + offset;\n    return {\n      x: x + this.getOrientVal([L, width / 2]),\n      y: y + this.getOrientVal([height / 2, L])\n    };\n  };\n  Slider.prototype.inferTextStyle = function (handleType) {\n    var orientation = this.attributes.orientation;\n    if (orientation === 'horizontal') return {};\n    if (handleType === 'start') return {\n      transform: 'rotate(90)',\n      textAlign: 'start'\n    };\n    if (handleType === 'end') return {\n      transform: 'rotate(90)',\n      textAlign: 'end'\n    };\n    return {};\n  };\n  /**\n   * 计算手柄应当处于的位置\n   * @param handleType start手柄还是end手柄\n   * @returns\n   */\n  Slider.prototype.calcHandleText = function (handleType) {\n    var _a;\n    var _b = this.attributes,\n      type = _b.type,\n      orientation = _b.orientation,\n      formatter = _b.formatter,\n      autoFitLabel = _b.autoFitLabel;\n    var handleStyle = subStyleProps(this.attributes, 'handle');\n    var labelStyle = subStyleProps(handleStyle, 'label');\n    var spacing = handleStyle.spacing;\n    var size = this.getHandleSize();\n    var values = this.clampValues();\n    var value = handleType === 'start' ? values[0] : values[1];\n    var text = formatter(value);\n    var temp = new Text({\n      style: __assign(__assign(__assign({}, labelStyle), this.inferTextStyle(handleType)), {\n        text: text\n      })\n    });\n    // 文字包围盒的宽高\n    var _c = temp.getBBox(),\n      textWidth = _c.width,\n      textHeight = _c.height;\n    temp.destroy();\n    if (!autoFitLabel) {\n      if (type === 'value') return {\n        text: text,\n        x: 0,\n        y: -textHeight - spacing\n      };\n      var finaleWidth = spacing + size + (orientation === 'horizontal' ? textWidth / 2 : 0);\n      return _a = {\n        text: text\n      }, _a[orientation === 'horizontal' ? 'x' : 'y'] = handleType === 'start' ? -finaleWidth : finaleWidth, _a;\n    }\n    var x = 0;\n    var y = 0;\n    // 相对于获取两端可用空间\n    var _d = this.availableSpace,\n      iW = _d.width,\n      iH = _d.height;\n    var _e = this.calcSelectionArea()[1],\n      fX = _e.x,\n      fY = _e.y,\n      fW = _e.width,\n      fH = _e.height;\n    var totalSpacing = spacing + size;\n    if (orientation === 'horizontal') {\n      var finalWidth = totalSpacing + textWidth / 2;\n      if (handleType === 'start') {\n        var left = fX - totalSpacing - textWidth;\n        x = left > 0 ? -finalWidth : finalWidth;\n      } else {\n        var sign = iW - fX - fW - totalSpacing > textWidth;\n        x = sign ? finalWidth : -finalWidth;\n      }\n    } else {\n      var positiveSize = totalSpacing;\n      var negativeSize = textHeight + totalSpacing;\n      if (handleType === 'start') {\n        y = fY - size > textHeight ? -negativeSize : positiveSize;\n      } else {\n        y = iH - (fY + fH) - size > textHeight ? negativeSize : -positiveSize;\n      }\n    }\n    return {\n      x: x,\n      y: y,\n      text: text\n    };\n  };\n  Slider.prototype.getHandleLabelStyle = function (handleType) {\n    var style = subStyleProps(this.attributes, 'handleLabel');\n    return __assign(__assign(__assign({}, style), this.calcHandleText(handleType)), this.inferTextStyle(handleType));\n  };\n  Slider.prototype.getHandleIconStyle = function () {\n    var shape = this.attributes.handleIconShape;\n    var style = subStyleProps(this.attributes, 'handleIcon');\n    var cursor = this.getOrientVal(['ew-resize', 'ns-resize']);\n    var size = this.getHandleSize();\n    return __assign({\n      cursor: cursor,\n      shape: shape,\n      size: size\n    }, style);\n  };\n  Slider.prototype.getHandleStyle = function (handleType) {\n    var _a = this.attributes,\n      showLabel = _a.showLabel,\n      showLabelOnInteraction = _a.showLabelOnInteraction,\n      orientation = _a.orientation;\n    var handlePosition = this.calcHandlePosition(handleType);\n    var textStyle = this.calcHandleText(handleType);\n    var internalShowLabel = showLabel;\n    if (!showLabel && showLabelOnInteraction) {\n      if (this.target) internalShowLabel = true;else internalShowLabel = false;\n    }\n    return __assign(__assign(__assign(__assign({}, superStyleProps(this.getHandleIconStyle(), 'icon')), superStyleProps(__assign(__assign({}, this.getHandleLabelStyle(handleType)), textStyle), 'label')), handlePosition), {\n      orientation: orientation,\n      showLabel: internalShowLabel,\n      type: handleType,\n      zIndex: 3\n    });\n  };\n  Slider.prototype.getHandleSize = function () {\n    var _a = this.attributes,\n      size = _a.handleIconSize,\n      width = _a.width,\n      height = _a.height;\n    if (size) return size;\n    // 没设置 size 的话，高度就取 height + 4 高度，手柄宽度是高度的 1/ 2.4\n    return Math.floor((this.getOrientVal([+height, +width]) + 4) / 2.4);\n  };\n  Slider.prototype.getOrientVal = function (_a) {\n    var _b = __read(_a, 2),\n      x = _b[0],\n      y = _b[1];\n    var orientation = this.attributes.orientation;\n    return orientation === 'horizontal' ? x : y;\n  };\n  Slider.prototype.setValuesOffset = function (stOffset, endOffset, animate) {\n    if (endOffset === void 0) {\n      endOffset = 0;\n    }\n    if (animate === void 0) {\n      animate = false;\n    }\n    var type = this.attributes.type;\n    var _a = __read(this.getValues(), 2),\n      oldStartVal = _a[0],\n      oldEndVal = _a[1];\n    var internalStartOffset = type === 'range' ? stOffset : 0;\n    var values = [oldStartVal + internalStartOffset, oldEndVal + endOffset].sort();\n    if (animate) this.setValues(values);else this.innerSetValues(values, true);\n  };\n  Slider.prototype.getRatio = function (val) {\n    var _a = this.availableSpace,\n      width = _a.width,\n      height = _a.height;\n    return val / this.getOrientVal([width, height]);\n  };\n  Slider.prototype.dispatchCustomEvent = function (target, event, name) {\n    var _this = this;\n    target.on(event, function (e) {\n      e.stopPropagation();\n      _this.dispatchEvent(new CustomEvent(name, {\n        detail: e\n      }));\n    });\n  };\n  Slider.prototype.bindEvents = function () {\n    // scroll 事件\n    this.addEventListener('wheel', this.onScroll);\n    var brushArea = this.brushArea;\n    this.dispatchCustomEvent(brushArea, 'click', 'trackClick');\n    this.dispatchCustomEvent(brushArea, 'pointerenter', 'trackMouseenter');\n    this.dispatchCustomEvent(brushArea, 'pointerleave', 'trackMouseleave');\n    // Drag and brush\n    brushArea.on('pointerdown', this.onDragStart('track'));\n  };\n  Slider.prototype.onScroll = function (event) {\n    var scrollable = this.attributes.scrollable;\n    if (scrollable) {\n      var deltaX = event.deltaX,\n        deltaY = event.deltaY;\n      var offset = deltaY || deltaX;\n      var deltaVal = this.getRatio(offset);\n      this.setValuesOffset(deltaVal, deltaVal, true);\n    }\n  };\n  Slider.tag = 'slider';\n  return Slider;\n}(Component);\nexport { Slider };","map":{"version":3,"names":["CustomEvent","clamp","transition","Component","Text","getEventPos","ifShow","parseSeriesAttr","select","subStyleProps","superStyleProps","toPrecision","Sparkline","CLASS_NAMES","HANDLE_DEFAULT_CFG","HANDLE_ICON_DEFAULT_CFG","HANDLE_LABEL_DEFAULT_CFG","Handle","Slider","_super","__extends","options","_this","call","__assign","animate","duration","fill","brushable","formatter","val","toString","handleSpacing","orientation","padding","autoFitLabel","scrollable","selectionFill","selectionFillOpacity","selectionZIndex","showHandle","showLabel","slidable","trackFill","trackLength","trackOpacity","trackSize","trackZIndex","values","type","selectionType","handleIconOffset","range","onDragStart","target","e","stopPropagation","prevPos","getOrientVal","_a","availableSpace","x","y","_b","getBBox","X","Y","selectionStartPos","getRatio","selectionWidth","document","addEventListener","onDragging","onDragEnd","attributes","currPos","diffPos","deltaVal","setValuesOffset","innerSetValues","sort","removeEventListener","updateHandlesPosition","onValueChange","oldValue","onChange","internalOldValue","value","getValues","evt","detail","dispatchEvent","Object","defineProperty","prototype","get","set","clampValues","attr","zIndex","__read","width","height","top","right","bottom","left","shape","setValues","animation","updateSelectionArea","newSelectionArea","calcSelectionArea","foregroundGroup","selectAll","selection","class","each","datum","index","startHandle","getHandleStyle","endHandle","trigger","oldValues","newValues","renderTrack","container","style","trackShape","maybeAppendByClassName","track","styles","renderBrushArea","brushArea","cursor","renderSparkline","sparklineGroup","group","sparklineStyle","sparkline","update","renderHandles","availableHandle","data","that","handle","map","d","join","enter","append","concat","name","exit","undefined","remove","renderSelection","foreground","selectionStyle","applyStyle","show","area","selectionShape","on","dispatchCustomEvent","render","precision","min","max","_c","num","prevStart","prevEnd","internalValues","Array","isArray","_d","startVal","endVal","start","end","calcHandlePosition","handleType","stVal","offset","L","inferTextStyle","transform","textAlign","calcHandleText","handleStyle","labelStyle","spacing","size","getHandleSize","text","temp","textWidth","textHeight","destroy","finaleWidth","iW","iH","_e","fX","fY","fW","fH","totalSpacing","finalWidth","sign","positiveSize","negativeSize","getHandleLabelStyle","getHandleIconStyle","handleIconShape","showLabelOnInteraction","handlePosition","textStyle","internalShowLabel","handleIconSize","Math","floor","stOffset","endOffset","oldStartVal","oldEndVal","internalStartOffset","event","bindEvents","onScroll","deltaX","deltaY","tag"],"sources":["ui/slider/index.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}