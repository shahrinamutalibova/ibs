{"ast":null,"code":"var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport { Path } from '@antv/g';\nimport { path as d3Path } from 'd3-path';\nimport { sort } from 'd3-array';\nimport { select } from '../utils/selection';\nimport { mapObject } from '../utils/array';\nimport { ELEMENT_CLASS_NAME, PLOT_CLASS_NAME } from '../runtime';\nimport { isOrdinalScale } from '../utils/scale';\nimport { rect } from '../shape/interval/color';\nimport { isPolar, isTranspose } from '../utils/coordinate';\nimport { getStyle } from '../utils/style';\nimport { reorder } from '../shape/utils';\nimport { angle, angleBetween, sub } from '../utils/vector';\n/**\n * Given root of chart returns elements to be manipulated\n */\nexport function selectG2Elements(root) {\n  return select(root).selectAll(`.${ELEMENT_CLASS_NAME}`).nodes().filter(d => !d.__removed__);\n}\nexport function selectFacetG2Elements(target, viewInstances) {\n  return selectFacetViews(target, viewInstances).flatMap(({\n    container\n  }) => selectG2Elements(container));\n}\nexport function selectFacetViews(target, viewInstances) {\n  return viewInstances.filter(d => d !== target && d.options.parentKey === target.options.key);\n}\nexport function selectPlotArea(root) {\n  return select(root).select(`.${PLOT_CLASS_NAME}`).node();\n}\nexport function bboxOf(node) {\n  if (node.nodeName !== 'rect') return node.getRenderBounds();\n  const {\n    x,\n    y,\n    width,\n    height\n  } = node.style;\n  return {\n    min: [x, y],\n    max: [x + width, y + height]\n  };\n}\nexport function mousePosition(target, event) {\n  const {\n    offsetX,\n    offsetY\n  } = event;\n  const bbox = bboxOf(target);\n  const {\n    min: [x, y],\n    max: [x1, y1]\n  } = bbox;\n  const isOutX = offsetX < x || offsetX > x1;\n  const isOutY = offsetY < y || offsetY > y1;\n  if (isOutX || isOutY) return null;\n  return [offsetX - x, offsetY - y];\n}\n/**\n * @todo Pass bbox rather than calc it here.\n */\nexport function brushMousePosition(target, event) {\n  const {\n    offsetX,\n    offsetY\n  } = event;\n  const [x, y, x1, y1] = boundsOfBrushArea(target);\n  return [Math.min(x1, Math.max(x, offsetX)) - x, Math.min(y1, Math.max(y, offsetY)) - y];\n}\nexport function boundsOfBrushArea(target) {\n  // Calc bbox after clipping.\n  const bbox = target.getRenderBounds();\n  const {\n    min: [x0, y0],\n    max: [x1, y1]\n  } = bbox;\n  return [x0, y0, x1, y1];\n}\nexport function createColorKey(view) {\n  return element => element.__data__.color;\n}\nexport function createXKey(view) {\n  return element => element.__data__.x;\n}\nexport function createDatumof(view) {\n  const views = Array.isArray(view) ? view : [view];\n  const keyData = new Map(views.flatMap(view => {\n    const marks = Array.from(view.markState.keys());\n    return marks.map(mark => [keyed(view.key, mark.key), mark.data]);\n  }));\n  return element => {\n    const {\n      index,\n      markKey,\n      viewKey\n    } = element.__data__;\n    const data = keyData.get(keyed(viewKey, markKey));\n    return data[index];\n  };\n}\n/**\n * A state manager for G2Element.\n * The keys for each state's style start with the state name.\n * { selectedFill, selectedStroke } is for selected state.\n * { unselectedFill, unselectedStroke } is for unselected state.\n */\nexport function useState(style, valueof = (d, element) => d, setAttribute = (element, key, v) => element.setAttribute(key, v)) {\n  const STATES = '__states__';\n  const ORIGINAL = '__ordinal__';\n  // Mix style for each state and apply it to element.\n  const updateState = element => {\n    const {\n      [STATES]: states = [],\n      [ORIGINAL]: original = {}\n    } = element;\n    const stateStyle = states.reduce((mixedStyle, state) => Object.assign(Object.assign({}, mixedStyle), style[state]), original);\n    if (Object.keys(stateStyle).length === 0) return;\n    for (const [key, value] of Object.entries(stateStyle)) {\n      const currentValue = getStyle(element, key);\n      const v = valueof(value, element);\n      setAttribute(element, key, v);\n      // Store the attribute if it does not exist in original.\n      if (!(key in original)) original[key] = currentValue;\n    }\n    element[ORIGINAL] = original;\n  };\n  const initState = element => {\n    if (element[STATES]) return;\n    element[STATES] = [];\n    return;\n  };\n  /**\n   * Set the states and update element.\n   */\n  const setState = (element, ...states) => {\n    initState(element);\n    element[STATES] = [...states];\n    updateState(element);\n  };\n  /**\n   * Remove the states and update element.\n   */\n  const removeState = (element, ...states) => {\n    initState(element);\n    for (const state of states) {\n      const index = element[STATES].indexOf(state);\n      if (index !== -1) {\n        element[STATES].splice(index, 1);\n      }\n    }\n    updateState(element);\n  };\n  const hasState = (element, state) => {\n    initState(element);\n    return element[STATES].indexOf(state) !== -1;\n  };\n  return {\n    setState,\n    removeState,\n    hasState\n  };\n}\nfunction isEmptyObject(obj) {\n  if (obj === undefined) return true;\n  if (typeof obj !== 'object') return false;\n  return Object.keys(obj).length === 0;\n}\n// A function to generate key for mark each view.\nfunction keyed(viewKey, markKey) {\n  return `${viewKey},${markKey}`;\n}\nexport function mergeState(options, states) {\n  // Index state by mark key and view key.\n  const views = Array.isArray(options) ? options : [options];\n  const markState = views.flatMap(view => view.marks.map(mark => [keyed(view.key, mark.key), mark.state]));\n  const state = {};\n  // Update each specified state.\n  for (const descriptor of states) {\n    const [key, defaults] = Array.isArray(descriptor) ? descriptor : [descriptor, {}];\n    // Update each specified mark state.\n    state[key] = markState.reduce((merged, mark) => {\n      // Normalize state.\n      const [markKey, markState = {}] = mark;\n      const selectedState = isEmptyObject(markState[key]) ? defaults : markState[key];\n      // Update each state attribute.\n      for (const [attr, value] of Object.entries(selectedState)) {\n        const oldValue = merged[attr];\n        const newValue = (data, index, array, element) => {\n          const k = keyed(element.__data__.viewKey, element.__data__.markKey);\n          if (markKey !== k) return oldValue === null || oldValue === void 0 ? void 0 : oldValue(data, index, array, element);\n          if (typeof value !== 'function') return value;\n          return value(data, index, array, element);\n        };\n        merged[attr] = newValue;\n      }\n      return merged;\n    }, {});\n  }\n  return state;\n}\n// @todo Support elements from different view.\nexport function createValueof(elements, datum) {\n  const elementIndex = new Map(elements.map((d, i) => [d, i]));\n  const fa = datum ? elements.map(datum) : elements;\n  return (d, e) => {\n    if (typeof d !== 'function') return d;\n    const i = elementIndex.get(e);\n    const fe = datum ? datum(e) : e;\n    return d(fe, i, fa, e);\n  };\n}\nexport function renderLink(_a) {\n  var {\n      link = false,\n      valueof = (d, element) => d,\n      coordinate\n    } = _a,\n    style = __rest(_a, [\"link\", \"valueof\", \"coordinate\"]);\n  const LINK_CLASS_NAME = 'element-link';\n  if (!link) return [() => {}, () => {}];\n  const pointsOf = element => element.__data__.points;\n  const pathPointsOf = (P0, P1) => {\n    const [, p1, p2] = P0;\n    const [p0,,, p3] = P1;\n    const P = [p1, p0, p3, p2];\n    return P;\n  };\n  const append = elements => {\n    var _a;\n    if (elements.length <= 1) return;\n    // Sort elements by normalized x to avoid cross.\n    const sortedElements = sort(elements, (e0, e1) => {\n      const {\n        x: x0\n      } = e0.__data__;\n      const {\n        x: x1\n      } = e1.__data__;\n      const dx = x0 - x1;\n      return dx;\n    });\n    for (let i = 1; i < sortedElements.length; i++) {\n      const p = d3Path();\n      const e0 = sortedElements[i - 1];\n      const e1 = sortedElements[i];\n      const [p0, p1, p2, p3] = pathPointsOf(pointsOf(e0), pointsOf(e1));\n      p.moveTo(...p0);\n      p.lineTo(...p1);\n      p.lineTo(...p2);\n      p.lineTo(...p3);\n      p.closePath();\n      const _b = mapObject(style, d => valueof(d, e0)),\n        {\n          fill = e0.getAttribute('fill')\n        } = _b,\n        rest = __rest(_b, [\"fill\"]);\n      const link = new Path({\n        className: LINK_CLASS_NAME,\n        style: Object.assign({\n          d: p.toString(),\n          fill,\n          zIndex: -2\n        }, rest)\n      });\n      // @ts-ignore\n      (_a = e0.link) === null || _a === void 0 ? void 0 : _a.remove();\n      e0.parentNode.appendChild(link);\n      // @ts-ignore\n      e0.link = link;\n    }\n  };\n  const remove = element => {\n    var _a;\n    (_a = element.link) === null || _a === void 0 ? void 0 : _a.remove();\n    element.link = null;\n  };\n  return [append, remove];\n}\n// Apply translate to mock slice out.\nexport function offsetTransform(element, offset, coordinate) {\n  const append = t => {\n    const {\n      transform\n    } = element.style;\n    return transform ? `${transform} ${t}` : t;\n  };\n  if (isPolar(coordinate)) {\n    const {\n      points\n    } = element.__data__;\n    const [p0, p1] = isTranspose(coordinate) ? reorder(points) : points;\n    const center = coordinate.getCenter();\n    const v0 = sub(p0, center);\n    const v1 = sub(p1, center);\n    const a0 = angle(v0);\n    const da = angleBetween(v0, v1);\n    const amid = a0 + da / 2;\n    const dx = offset * Math.cos(amid);\n    const dy = offset * Math.sin(amid);\n    return append(`translate(${dx}, ${dy})`);\n  }\n  if (isTranspose(coordinate)) return append(`translate(${offset}, 0)`);\n  return append(`translate(0, ${-offset})`);\n}\nexport function renderBackground(_a) {\n  var {\n      document,\n      background,\n      scale,\n      coordinate,\n      valueof\n    } = _a,\n    rest = __rest(_a, [\"document\", \"background\", \"scale\", \"coordinate\", \"valueof\"]);\n  const BACKGROUND_CLASS_NAME = 'element-background';\n  // Don't have background.\n  if (!background) return [() => {}, () => {}];\n  const extentOf = (scale, x, padding) => {\n    const ax = scale.invert(x);\n    const mid = x + scale.getBandWidth(ax) / 2;\n    const half = scale.getStep(ax) / 2;\n    const offset = half * padding;\n    return [mid - half + offset, mid + half - offset];\n  };\n  const sizeXOf = (element, padding) => {\n    const {\n      x: scaleX\n    } = scale;\n    if (!isOrdinalScale(scaleX)) return [0, 1];\n    const {\n      __data__: data\n    } = element;\n    const {\n      x\n    } = data;\n    const [e1, e2] = extentOf(scaleX, x, padding);\n    return [e1, e2];\n  };\n  const sizeYOf = (element, padding) => {\n    const {\n      y: scaleY\n    } = scale;\n    if (!isOrdinalScale(scaleY)) return [0, 1];\n    const {\n      __data__: data\n    } = element;\n    const {\n      y\n    } = data;\n    const [e1, e2] = extentOf(scaleY, y, padding);\n    return [e1, e2];\n  };\n  const bandShapeOf = (element, style) => {\n    const {\n      padding\n    } = style;\n    const [x1, x2] = sizeXOf(element, padding);\n    const [y1, y2] = sizeYOf(element, padding);\n    const points = [[x1, y1], [x2, y1], [x2, y2], [x1, y2]].map(d => coordinate.map(d));\n    const {\n      __data__: data\n    } = element;\n    const {\n      y: dy,\n      y1: dy1\n    } = data;\n    return rect(document, points, {\n      y: dy,\n      y1: dy1\n    }, coordinate, style);\n  };\n  // Shape without ordinal style.\n  // Clone and scale it.\n  const cloneShapeOf = (element, style) => {\n    const {\n        transform = 'scale(1.2, 1.2)',\n        transformOrigin = 'center center',\n        stroke = ''\n      } = style,\n      rest = __rest(style, [\"transform\", \"transformOrigin\", \"stroke\"]);\n    const finalStyle = Object.assign({\n      transform,\n      transformOrigin,\n      stroke\n    }, rest);\n    const shape = element.cloneNode(true);\n    for (const [key, value] of Object.entries(finalStyle)) {\n      shape.style[key] = value;\n    }\n    return shape;\n  };\n  const isOrdinalShape = () => {\n    const {\n      x,\n      y\n    } = scale;\n    return [x, y].some(isOrdinalScale);\n  };\n  const append = element => {\n    if (element.background) element.background.remove();\n    const _a = mapObject(rest, d => valueof(d, element)),\n      {\n        fill = '#CCD6EC',\n        fillOpacity = 0.3,\n        zIndex = -2,\n        padding = 0.001,\n        strokeWidth = 0\n      } = _a,\n      style = __rest(_a, [\"fill\", \"fillOpacity\", \"zIndex\", \"padding\", \"strokeWidth\"]);\n    const finalStyle = Object.assign(Object.assign({}, style), {\n      fill,\n      fillOpacity,\n      zIndex,\n      padding,\n      strokeWidth\n    });\n    const shapeOf = isOrdinalShape() ? bandShapeOf : cloneShapeOf;\n    const shape = shapeOf(element, finalStyle);\n    shape.className = BACKGROUND_CLASS_NAME;\n    element.parentNode.parentNode.appendChild(shape);\n    element.background = shape;\n  };\n  const remove = element => {\n    var _a;\n    (_a = element.background) === null || _a === void 0 ? void 0 : _a.remove();\n    element.background = null;\n  };\n  const is = element => {\n    return element.className === BACKGROUND_CLASS_NAME;\n  };\n  return [append, remove, is];\n}\nexport function setCursor(root, cursor) {\n  // @ts-ignore\n  const canvas = root.getRootNode().defaultView;\n  const dom = canvas.getContextService().getDomElement();\n  if (dom === null || dom === void 0 ? void 0 : dom.style) {\n    root.cursor = dom.style.cursor;\n    dom.style.cursor = cursor;\n  }\n}\nexport function restoreCursor(root) {\n  setCursor(root, root.cursor);\n}\nexport function selectElementByData(elements, data, datum) {\n  return elements.find(d => Object.entries(data).every(([key, value]) => datum(d)[key] === value));\n}","map":{"version":3,"names":["Path","path","d3Path","sort","select","mapObject","ELEMENT_CLASS_NAME","PLOT_CLASS_NAME","isOrdinalScale","rect","isPolar","isTranspose","getStyle","reorder","angle","angleBetween","sub","selectG2Elements","root","selectAll","nodes","filter","d","__removed__","selectFacetG2Elements","target","viewInstances","selectFacetViews","flatMap","container","options","parentKey","key","selectPlotArea","node","bboxOf","nodeName","getRenderBounds","x","y","width","height","style","min","max","mousePosition","event","offsetX","offsetY","bbox","x1","y1","isOutX","isOutY","brushMousePosition","boundsOfBrushArea","Math","x0","y0","createColorKey","view","element","__data__","color","createXKey","createDatumof","views","Array","isArray","keyData","Map","marks","from","markState","keys","map","mark","keyed","data","index","markKey","viewKey","get","useState","valueof","setAttribute","v","STATES","ORIGINAL","updateState","states","original","stateStyle","reduce","mixedStyle","state","Object","assign","length","value","entries","currentValue","initState","setState","removeState","indexOf","splice","hasState","isEmptyObject","obj","undefined","mergeState","descriptor","defaults","merged","selectedState","attr","oldValue","newValue","array","k","createValueof","elements","datum","elementIndex","i","fa","e","fe","renderLink","_a","link","coordinate","__rest","LINK_CLASS_NAME","pointsOf","points","pathPointsOf","P0","P1","p1","p2","p0","p3","P","append","sortedElements","e0","e1","dx","p","moveTo","lineTo","closePath","_b","fill","getAttribute","rest","className","toString","zIndex","remove","parentNode","appendChild","offsetTransform","offset","t","transform","center","getCenter","v0","v1","a0","da","amid","cos","dy","sin","renderBackground","document","background","scale","BACKGROUND_CLASS_NAME","extentOf","padding","ax","invert","mid","getBandWidth","half","getStep","sizeXOf","scaleX","e2","sizeYOf","scaleY","bandShapeOf","x2","y2","dy1","cloneShapeOf","transformOrigin","stroke","finalStyle","shape","cloneNode","isOrdinalShape","some","fillOpacity","strokeWidth","shapeOf","is","setCursor","cursor","canvas","getRootNode","defaultView","dom","getContextService","getDomElement","restoreCursor","selectElementByData","find","every"],"sources":["interaction/utils.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}