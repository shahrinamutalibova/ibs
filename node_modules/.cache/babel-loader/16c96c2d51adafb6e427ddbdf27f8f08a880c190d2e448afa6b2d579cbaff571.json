{"ast":null,"code":"import { deepMix } from '@antv/util';\nimport { column, isObject } from './utils/helper';\n/**\n * Add 3 constant encode for size channel.\n * This is useful for point geometry.\n */\nexport const MaybeTuple = () => {\n  return (I, mark) => {\n    const {\n      data\n    } = mark;\n    if (!Array.isArray(data) || data.some(isObject)) return [I, mark];\n    const position = Array.isArray(data[0]) ? data : [data];\n    const X = position.map(d => d[0]);\n    const Y = position.map(d => d[1]);\n    return [I, deepMix({}, mark, {\n      encode: {\n        x: column(X),\n        y: column(Y)\n      }\n    })];\n  };\n};\nMaybeTuple.props = {};","map":{"version":3,"names":["deepMix","column","isObject","MaybeTuple","I","mark","data","Array","isArray","some","position","X","map","d","Y","encode","x","y","props"],"sources":["transform/maybeTuple.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,OAAO,QAAQ,YAAY;AAEpC,SAASC,MAAM,EAAEC,QAAQ,QAAQ,gBAAgB;AAIjD;;;;AAIA,OAAO,MAAMC,UAAU,GAA0BA,CAAA,KAAK;EACpD,OAAO,CAACC,CAAC,EAAEC,IAAI,KAAI;IACjB,MAAM;MAAEC;IAAI,CAAE,GAAGD,IAAI;IACrB,IAAI,CAACE,KAAK,CAACC,OAAO,CAACF,IAAI,CAAC,IAAIA,IAAI,CAACG,IAAI,CAACP,QAAQ,CAAC,EAAE,OAAO,CAACE,CAAC,EAAEC,IAAI,CAAC;IACjE,MAAMK,QAAQ,GAAGH,KAAK,CAACC,OAAO,CAACF,IAAI,CAAC,CAAC,CAAC,CAAC,GAAGA,IAAI,GAAG,CAACA,IAAI,CAAC;IACvD,MAAMK,CAAC,GAAGD,QAAQ,CAACE,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAAC,CAAC,CAAC,CAAC;IACnC,MAAMC,CAAC,GAAGJ,QAAQ,CAACE,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAAC,CAAC,CAAC,CAAC;IACnC,OAAO,CAACT,CAAC,EAAEJ,OAAO,CAAC,EAAE,EAAEK,IAAI,EAAE;MAAEU,MAAM,EAAE;QAAEC,CAAC,EAAEf,MAAM,CAACU,CAAC,CAAC;QAAEM,CAAC,EAAEhB,MAAM,CAACa,CAAC;MAAC;IAAE,CAAE,CAAC,CAAC;EAC3E,CAAC;AACH,CAAC;AAEDX,UAAU,CAACe,KAAK,GAAG,EAAE"},"metadata":{},"sourceType":"module","externalDependencies":[]}