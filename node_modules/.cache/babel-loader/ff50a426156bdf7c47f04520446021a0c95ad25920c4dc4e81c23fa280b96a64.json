{"ast":null,"code":"import { deepMix } from '@antv/util';\nimport { column, columnOf } from './utils/helper';\nimport { rangeOf, interpolate } from './jitter';\n/**\n * The JitterX transform produce dy channels for marks (especially for point)\n * with ordinal x and y dimension, say to make them jitter in their own space.\n */\nexport const JitterX = (options = {}) => {\n  const {\n    padding = 0,\n    random = Math.random\n  } = options;\n  return (I, mark) => {\n    const {\n      encode,\n      scale\n    } = mark;\n    const {\n      x: scaleX\n    } = scale;\n    const [X] = columnOf(encode, 'x');\n    const rangeX = rangeOf(X, scaleX, padding);\n    const DX = I.map(() => interpolate(random(), ...rangeX));\n    return [I, deepMix({\n      scale: {\n        x: {\n          padding: 0.5\n        }\n      }\n    }, mark, {\n      encode: {\n        dx: column(DX)\n      }\n    })];\n  };\n};\nJitterX.props = {};","map":{"version":3,"names":["deepMix","column","columnOf","rangeOf","interpolate","JitterX","options","padding","random","Math","I","mark","encode","scale","x","scaleX","X","rangeX","DX","map","dx","props"],"sources":["transform/jitterX.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,OAAO,QAAQ,YAAY;AAGpC,SAASC,MAAM,EAAEC,QAAQ,QAAQ,gBAAgB;AACjD,SAASC,OAAO,EAAEC,WAAW,QAAQ,UAAU;AAI/C;;;;AAIA,OAAO,MAAMC,OAAO,GAAuBA,CAACC,OAAO,GAAG,EAAE,KAAI;EAC1D,MAAM;IAAEC,OAAO,GAAG,CAAC;IAAEC,MAAM,GAAGC,IAAI,CAACD;EAAM,CAAE,GAAGF,OAAO;EACrD,OAAO,CAACI,CAAC,EAAEC,IAAI,KAAI;IACjB,MAAM;MAAEC,MAAM;MAAEC;IAAK,CAAE,GAAGF,IAAI;IAC9B,MAAM;MAAEG,CAAC,EAAEC;IAAM,CAAE,GAAGF,KAAK;IAC3B,MAAM,CAACG,CAAC,CAAC,GAAGd,QAAQ,CAACU,MAAM,EAAE,GAAG,CAAC;IACjC,MAAMK,MAAM,GAAGd,OAAO,CAACa,CAAC,EAAED,MAAM,EAAER,OAAO,CAAC;IAC1C,MAAMW,EAAE,GAAGR,CAAC,CAACS,GAAG,CAAC,MAAMf,WAAW,CAACI,MAAM,EAAE,EAAE,GAAGS,MAAM,CAAC,CAAC;IACxD,OAAO,CACLP,CAAC,EACDV,OAAO,CAAC;MAAEa,KAAK,EAAE;QAAEC,CAAC,EAAE;UAAEP,OAAO,EAAE;QAAG;MAAE;IAAE,CAAE,EAAEI,IAAI,EAAE;MAChDC,MAAM,EAAE;QAAEQ,EAAE,EAAEnB,MAAM,CAACiB,EAAE;MAAC;KACzB,CAAC,CACH;EACH,CAAC;AACH,CAAC;AAEDb,OAAO,CAACgB,KAAK,GAAG,EAAE"},"metadata":{},"sourceType":"module","externalDependencies":[]}