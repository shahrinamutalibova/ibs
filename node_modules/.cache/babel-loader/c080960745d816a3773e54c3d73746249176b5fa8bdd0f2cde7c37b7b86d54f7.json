{"ast":null,"code":"import { __extends } from \"tslib\";\nimport { CustomElement } from '../shapes';\nimport { createOffscreenGroup, deepAssign, visibility } from '../util';\nfunction applyVisibility() {\n  visibility(this, this.attributes.visibility !== 'hidden');\n}\nvar Component = /** @class */function (_super) {\n  __extends(Component, _super);\n  function Component(options, defaultStyleProps) {\n    if (defaultStyleProps === void 0) {\n      defaultStyleProps = {};\n    }\n    var _this = _super.call(this, deepAssign({}, {\n      style: defaultStyleProps\n    }, options)) || this;\n    _this.initialized = false;\n    _this._defaultOptions = defaultStyleProps;\n    return _this;\n  }\n  Object.defineProperty(Component.prototype, \"offscreenGroup\", {\n    get: function () {\n      if (!this._offscreen) this._offscreen = createOffscreenGroup(this);\n      return this._offscreen;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Component.prototype, \"defaultOptions\", {\n    get: function () {\n      return this._defaultOptions;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Component.prototype.connectedCallback = function () {\n    this.render(this.attributes, this);\n    this.bindEvents(this.attributes, this);\n    this.initialized = true;\n  };\n  Component.prototype.disconnectedCallback = function () {\n    var _a;\n    (_a = this._offscreen) === null || _a === void 0 ? void 0 : _a.destroy();\n  };\n  Component.prototype.attributeChangedCallback = function (name) {\n    if (name === 'visibility') {\n      applyVisibility.call(this);\n    }\n  };\n  Component.prototype.update = function (attr, animate) {\n    var _a;\n    this.attr(deepAssign({}, this.attributes, attr || {}));\n    return (_a = this.render) === null || _a === void 0 ? void 0 : _a.call(this, this.attributes, this, animate);\n  };\n  Component.prototype.clear = function () {\n    this.removeChildren();\n  };\n  Component.prototype.bindEvents = function (attributes, container) {};\n  return Component;\n}(CustomElement);\nexport { Component };","map":{"version":3,"names":["CustomElement","createOffscreenGroup","deepAssign","visibility","applyVisibility","attributes","Component","_super","__extends","options","defaultStyleProps","_this","call","style","initialized","_defaultOptions","Object","defineProperty","prototype","get","_offscreen","connectedCallback","render","bindEvents","disconnectedCallback","_a","destroy","attributeChangedCallback","name","update","attr","animate","clear","removeChildren","container"],"sources":["core/component.ts"],"sourcesContent":[null],"mappings":";AAAA,SAASA,aAAa,QAAe,WAAW;AAEhD,SAASC,oBAAoB,EAAEC,UAAU,EAAEC,UAAU,QAAQ,SAAS;AAGtE,SAASC,eAAeA,CAAA;EACtBD,UAAU,CAAC,IAAI,EAAE,IAAI,CAACE,UAAU,CAACF,UAAU,KAAK,QAAQ,CAAC;AAC3D;AAEA,IAAAG,SAAA,0BAAAC,MAAA;EAAuEC,SAAA,CAAAF,SAAA,EAAAC,MAAA;EAgBrE,SAAAD,UAAYG,OAAqC,EAAEC,iBAAkC;IAAlC,IAAAA,iBAAA;MAAAA,iBAAA,KAAkC;IAAA;IACnF,IAAAC,KAAA,GAAAJ,MAAK,CAAAK,IAAA,OAACV,UAAU,CAAC,EAAE,EAAE;MAAEW,KAAK,EAAEH;IAAiB,CAAE,EAAED,OAAO,CAAC,CAAC;IAPvDE,KAAA,CAAAG,WAAW,GAAG,KAAK;IAQxBH,KAAI,CAACI,eAAe,GAAGL,iBAAiB;;EAC1C;EAdAM,MAAA,CAAAC,cAAA,CAAcX,SAAA,CAAAY,SAAA,kBAAc;SAA5B,SAAAC,CAAA;MACE,IAAI,CAAC,IAAI,CAACC,UAAU,EAAE,IAAI,CAACA,UAAU,GAAGnB,oBAAoB,CAAC,IAAI,CAAC;MAClE,OAAO,IAAI,CAACmB,UAAU;IACxB,CAAC;;;;EAIDJ,MAAA,CAAAC,cAAA,CAAWX,SAAA,CAAAY,SAAA,kBAAc;SAAzB,SAAAC,CAAA;MACE,OAAO,IAAI,CAACJ,eAAe;IAC7B,CAAC;;;;EAODT,SAAA,CAAAY,SAAA,CAAAG,iBAAiB,GAAjB;IACE,IAAI,CAACC,MAAM,CAAC,IAAI,CAACjB,UAAyB,EAAE,IAAI,CAAC;IACjD,IAAI,CAACkB,UAAU,CAAC,IAAI,CAAClB,UAAU,EAAE,IAAI,CAAC;IACtC,IAAI,CAACS,WAAW,GAAG,IAAI;EACzB,CAAC;EAEDR,SAAA,CAAAY,SAAA,CAAAM,oBAAoB,GAApB;;IACE,CAAAC,EAAA,OAAI,CAACL,UAAU,cAAAK,EAAA,uBAAAA,EAAA,CAAEC,OAAO,EAAE;EAC5B,CAAC;EAEDpB,SAAA,CAAAY,SAAA,CAAAS,wBAAwB,GAAxB,UAA8CC,IAAS;IACrD,IAAIA,IAAI,KAAK,YAAY,EAAE;MACzBxB,eAAe,CAACQ,IAAI,CAAC,IAAI,CAAC;IAC5B;EACF,CAAC;EAEMN,SAAA,CAAAY,SAAA,CAAAW,MAAM,GAAb,UAAcC,IAAiB,EAAEC,OAA0B;;IACzD,IAAI,CAACD,IAAI,CAAC5B,UAAU,CAAC,EAAE,EAAE,IAAI,CAACG,UAAU,EAAEyB,IAAI,IAAI,EAAE,CAAC,CAAC;IACtD,OAAO,CAAAL,EAAA,OAAI,CAACH,MAAM,cAAAG,EAAA,uBAAAA,EAAA,CAAAb,IAAA,OAAG,IAAI,CAACP,UAAyB,EAAE,IAAI,EAAE0B,OAAO,CAAC;EACrE,CAAC;EAEMzB,SAAA,CAAAY,SAAA,CAAAc,KAAK,GAAZ;IACE,IAAI,CAACC,cAAc,EAAE;EACvB,CAAC;EAQM3B,SAAA,CAAAY,SAAA,CAAAK,UAAU,GAAjB,UAAkBlB,UAAa,EAAE6B,SAAgB,GAAS,CAAC;EAC7D,OAAA5B,SAAC;AAAD,CAAC,CArDsEN,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}