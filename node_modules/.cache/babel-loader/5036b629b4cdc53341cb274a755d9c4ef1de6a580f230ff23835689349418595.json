{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Desktop\\\\IBS-adminpage\\\\src\\\\view\\\\app\\\\Certificate\\\\addCertificate.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Button, Drawer, Form, Input } from 'antd';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { updateState } from \"../../../redux/reducers\";\nimport UploadImages from \"../../../compoents/uploadImage\";\nimport { addCertificate, editCertificate } from \"../../../redux/actions/app\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AddCertificate() {\n  _s();\n  const {\n    isModal,\n    isLoading,\n    editData\n  } = useSelector(state => state.app);\n  const [image, setImage] = useState(null);\n  const [form] = Form.useForm();\n  const dispatch = useDispatch();\n  const toggleModal = () => dispatch(updateState({\n    isModal: !isModal\n  }));\n  const onFinish = value => {\n    dispatch(updateState({\n      isLoading: true\n    }));\n    if (editData !== null && editData !== void 0 && editData.id) {\n      dispatch(editCertificate({\n        ...value,\n        image,\n        id: editData.id\n      }));\n    } else {\n      dispatch(addCertificate({\n        ...value,\n        image\n      }));\n    }\n  };\n  useEffect(() => {\n    if (editData !== null && editData !== void 0 && editData.id) {\n      form.setFieldsValue(editData);\n      setImage(editData.image);\n    }\n    if (!isModal) {\n      setImage(null);\n      form.resetFields();\n      dispatch(updateState({\n        editData: {}\n      }));\n    }\n  }, [isModal]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      onClick: toggleModal,\n      className: 'addBtn',\n      children: \" Hodim qo'shish \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Drawer, {\n      open: isModal,\n      onClose: toggleModal,\n      extra: /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => form.submit(),\n        loading: isLoading,\n        className: 'addBtn',\n        children: \" Saqlash \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 65\n      }, this),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(UploadImages, {\n          image: image,\n          setImage: setImage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 22\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        form: form,\n        onFinish: onFinish,\n        style: {\n          marginTop: '20px'\n        },\n        layout: \"vertical\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n          name: 'name',\n          label: 'Sertifikat nomi',\n          rules: [{\n            required: true\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: 'code',\n          label: 'Sertifikat raqami',\n          rules: [{\n            required: true\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n}\n_s(AddCertificate, \"UnxYF1B2aBhSPWnA/rmsWQBCgfM=\", false, function () {\n  return [useSelector, Form.useForm, useDispatch];\n});\n_c = AddCertificate;\nexport default AddCertificate;\nvar _c;\n$RefreshReg$(_c, \"AddCertificate\");","map":{"version":3,"names":["React","useEffect","useState","Button","Drawer","Form","Input","useDispatch","useSelector","updateState","UploadImages","addCertificate","editCertificate","jsxDEV","_jsxDEV","AddCertificate","_s","isModal","isLoading","editData","state","app","image","setImage","form","useForm","dispatch","toggleModal","onFinish","value","id","setFieldsValue","resetFields","children","onClick","className","fileName","_jsxFileName","lineNumber","columnNumber","open","onClose","extra","submit","loading","style","marginTop","layout","Item","name","label","rules","required","_c","$RefreshReg$"],"sources":["C:/Users/hp/Desktop/IBS-adminpage/src/view/app/Certificate/addCertificate.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport {Button, Drawer, Form, Input} from 'antd';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {updateState} from \"../../../redux/reducers\";\r\nimport UploadImages from \"../../../compoents/uploadImage\";\r\nimport {addCertificate, editCertificate} from \"../../../redux/actions/app\";\r\n\r\nfunction AddCertificate() {\r\n    const {isModal, isLoading, editData} = useSelector(state => state.app);\r\n    const [image, setImage] = useState(null)\r\n\r\n    const [form] = Form.useForm();\r\n    const dispatch = useDispatch();\r\n    const toggleModal = () => dispatch(updateState({isModal: !isModal}));\r\n\r\n    const onFinish = value => {\r\n        dispatch(updateState({isLoading:true}));\r\n        if (editData?.id){\r\n            dispatch(editCertificate({...value, image, id:editData.id}));\r\n        } else {\r\n            dispatch(addCertificate({...value, image}));\r\n        }\r\n    }\r\n    useEffect(()=>{\r\n        if (editData?.id){\r\n            form.setFieldsValue(editData)\r\n            setImage(editData.image)\r\n        }\r\n        if (!isModal){\r\n            setImage(null)\r\n            form.resetFields()\r\n            dispatch(updateState({editData: {}}))\r\n        }\r\n    },[isModal])\r\n\r\n    return (\r\n        <div>\r\n            <Button onClick={toggleModal} className={'addBtn'}> Hodim qo'shish </Button>\r\n            <Drawer open={isModal} onClose={toggleModal} extra={<Button onClick={()=>form.submit()} loading={isLoading} className={'addBtn'}> Saqlash </Button>}>\r\n                <div><UploadImages image={image} setImage={setImage}/></div>\r\n                <Form form={form} onFinish={onFinish} style={{marginTop: '20px'}} layout={\"vertical\"}>\r\n                    <Form.Item name={'name'} label={'Sertifikat nomi'} rules={[{required:true}]}>\r\n                        <Input/>\r\n                    </Form.Item>\r\n                    <Form.Item name={'code'} label={'Sertifikat raqami'} rules={[{required:true}]}>\r\n                        <Input/>\r\n                    </Form.Item>\r\n                </Form>\r\n            </Drawer>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AddCertificate;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}