{"ast":null,"code":"import { __assign, __extends } from \"tslib\";\nimport { Component } from '../../core';\nimport { Circle } from '../../shapes';\nimport { select, subStyleProps } from '../../util';\nimport { deepAssign } from '../../util/deep-assign';\nvar TimeModeHandle = /** @class */function (_super) {\n  __extends(TimeModeHandle, _super);\n  function TimeModeHandle(options) {\n    var _this = _super.call(this, deepAssign({}, TimeModeHandle.defaultOptions, options)) || this;\n    _this.bindEvents();\n    return _this;\n  }\n  TimeModeHandle.prototype.bindEvents = function () {\n    var _this = this;\n    this.addEventListener('mouseenter', function () {\n      _this.attr('lineWidth', Math.ceil(+(_this.style.r || 0) / 2));\n    });\n    this.addEventListener('mouseleave', function () {\n      _this.attr('lineWidth', 0);\n    });\n  };\n  TimeModeHandle.defaultOptions = {\n    style: {\n      r: 5,\n      fill: '#3f7cf7',\n      lineWidth: 0,\n      stroke: '#3f7cf7',\n      strokeOpacity: 0.5,\n      cursor: 'pointer'\n    }\n  };\n  return TimeModeHandle;\n}(Circle);\nexport { TimeModeHandle };\nvar ChartModeHandle = /** @class */function (_super) {\n  __extends(ChartModeHandle, _super);\n  function ChartModeHandle(options) {\n    return _super.call(this, deepAssign({}, ChartModeHandle.defaultOptions, options)) || this;\n  }\n  ChartModeHandle.prototype.renderBackground = function () {\n    var _a = this.attributes,\n      width = _a.width,\n      height = _a.height;\n    var style = subStyleProps(this.attributes, 'background');\n    select(this).maybeAppend('background', 'rect').attr('className', 'background').styles(__assign({\n      x: -width / 2,\n      y: -height / 2,\n      width: width,\n      height: height\n    }, style));\n  };\n  ChartModeHandle.prototype.renderIcon = function () {\n    var iconSize = this.attributes.iconSize;\n    var style = subStyleProps(this.attributes, 'icon');\n    var diffX = 1;\n    var diffY = iconSize / 2;\n    select(this).maybeAppend('icon-left-line', 'line').attr('className', 'icon-left-line').styles(__assign({\n      x1: -diffX,\n      y1: -diffY,\n      x2: -diffX,\n      y2: diffY\n    }, style));\n    select(this).maybeAppend('icon-right-line', 'line').attr('className', 'icon-right-line').styles(__assign({\n      x1: diffX,\n      y1: -diffY,\n      x2: diffX,\n      y2: diffY\n    }, style));\n  };\n  ChartModeHandle.prototype.renderBorder = function () {\n    var _a = this.attributes,\n      width = _a.width,\n      height = _a.height,\n      type = _a.type;\n    var style = subStyleProps(this.attributes, 'border');\n    var x = type === 'start' ? +width / 2 : -width / 2;\n    select(this).maybeAppend('border', 'line').attr('className', 'border').styles(__assign({\n      x1: x,\n      y1: -height / 2,\n      x2: x,\n      y2: +height / 2\n    }, style));\n  };\n  ChartModeHandle.prototype.render = function () {\n    this.renderBackground();\n    this.renderIcon();\n    this.renderBorder();\n  };\n  ChartModeHandle.defaultOptions = {\n    style: {\n      width: 10,\n      height: 50,\n      iconSize: 10,\n      type: 'start',\n      backgroundFill: '#fff',\n      backgroundFillOpacity: 0.5,\n      iconStroke: '#9a9a9a',\n      iconLineWidth: 1,\n      borderStroke: '#e8e8e8',\n      borderLineWidth: 1\n    }\n  };\n  return ChartModeHandle;\n}(Component);\nexport { ChartModeHandle };","map":{"version":3,"names":["Component","Circle","select","subStyleProps","deepAssign","TimeModeHandle","_super","__extends","options","_this","call","defaultOptions","bindEvents","prototype","addEventListener","attr","Math","ceil","style","r","fill","lineWidth","stroke","strokeOpacity","cursor","ChartModeHandle","renderBackground","_a","attributes","width","height","maybeAppend","styles","__assign","x","y","renderIcon","iconSize","diffX","diffY","x1","y1","x2","y2","renderBorder","type","render","backgroundFill","backgroundFillOpacity","iconStroke","iconLineWidth","borderStroke","borderLineWidth"],"sources":["ui/timebar/handle.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}