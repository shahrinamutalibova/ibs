{"ast":null,"code":"import { SliderFilter } from './sliderFilter';\nexport const SCROLLBAR_CLASS_NAME = 'g2-scrollbar';\nexport function ScrollbarFilter(options = {}) {\n  return (context, _, emitter) => {\n    const {\n      view,\n      container\n    } = context;\n    const scrollbars = container.getElementsByClassName(SCROLLBAR_CLASS_NAME);\n    if (!scrollbars.length) return () => {};\n    const {\n      scale\n    } = view;\n    const {\n      x: scaleX,\n      y: scaleY\n    } = scale;\n    // The filtered domain, computed by the ratio attribute.\n    const initDomain = {\n      x: [...scaleX.getOptions().domain],\n      y: [...scaleY.getOptions().domain]\n    };\n    // The ordinal domain for each channel.\n    scaleX.update({\n      domain: scaleX.getOptions().expectedDomain\n    });\n    scaleY.update({\n      domain: scaleY.getOptions().expectedDomain\n    });\n    const interaction = SliderFilter(Object.assign(Object.assign({}, options), {\n      initDomain,\n      className: SCROLLBAR_CLASS_NAME,\n      prefix: 'scrollbar',\n      hasState: true,\n      setValue: (component, values) => component.setValue(values[0]),\n      getInitValues: scrollbar => {\n        const values = scrollbar.slider.attributes.values;\n        if (values[0] !== 0) return values;\n      }\n    }));\n    return interaction(context, _, emitter);\n  };\n}","map":{"version":3,"names":["SliderFilter","SCROLLBAR_CLASS_NAME","ScrollbarFilter","options","context","_","emitter","view","container","scrollbars","getElementsByClassName","length","scale","x","scaleX","y","scaleY","initDomain","getOptions","domain","update","expectedDomain","interaction","Object","assign","className","prefix","hasState","setValue","component","values","getInitValues","scrollbar","slider","attributes"],"sources":["interaction/scrollbarFilter.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,YAAY,QAAQ,gBAAgB;AAE7C,OAAO,MAAMC,oBAAoB,GAAG,cAAc;AAElD,OAAM,SAAUC,eAAeA,CAACC,OAAA,GAAe,EAAE;EAC/C,OAAO,CAACC,OAAO,EAAEC,CAAC,EAAEC,OAAO,KAAI;IAC7B,MAAM;MAAEC,IAAI;MAAEC;IAAS,CAAE,GAAGJ,OAAO;IACnC,MAAMK,UAAU,GAAGD,SAAS,CAACE,sBAAsB,CAACT,oBAAoB,CAAC;IACzE,IAAI,CAACQ,UAAU,CAACE,MAAM,EAAE,OAAO,MAAK,CAAE,CAAC;IACvC,MAAM;MAAEC;IAAK,CAAE,GAAGL,IAAI;IACtB,MAAM;MAAEM,CAAC,EAAEC,MAAM;MAAEC,CAAC,EAAEC;IAAM,CAAE,GAAGJ,KAAK;IAEtC;IACA,MAAMK,UAAU,GAAG;MACjBJ,CAAC,EAAE,CAAC,GAAGC,MAAM,CAACI,UAAU,EAAE,CAACC,MAAM,CAAC;MAClCJ,CAAC,EAAE,CAAC,GAAGC,MAAM,CAACE,UAAU,EAAE,CAACC,MAAM;KAClC;IAED;IACAL,MAAM,CAACM,MAAM,CAAC;MAAED,MAAM,EAAEL,MAAM,CAACI,UAAU,EAAE,CAACG;IAAc,CAAE,CAAC;IAC7DL,MAAM,CAACI,MAAM,CAAC;MAAED,MAAM,EAAEH,MAAM,CAACE,UAAU,EAAE,CAACG;IAAc,CAAE,CAAC;IAE7D,MAAMC,WAAW,GAAGtB,YAAY,CAAAuB,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KAC3BrB,OAAO;MACVc,UAAU;MACVQ,SAAS,EAAExB,oBAAoB;MAC/ByB,MAAM,EAAE,WAAW;MACnBC,QAAQ,EAAE,IAAI;MACdC,QAAQ,EAAEA,CAACC,SAAS,EAAEC,MAAM,KAAKD,SAAS,CAACD,QAAQ,CAACE,MAAM,CAAC,CAAC,CAAC,CAAC;MAC9DC,aAAa,EAAGC,SAAS,IAAI;QAC3B,MAAMF,MAAM,GAAGE,SAAS,CAACC,MAAM,CAACC,UAAU,CAACJ,MAAM;QACjD,IAAIA,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,OAAOA,MAAM;MACpC;IAAC,GACD;IACF,OAAOR,WAAW,CAAClB,OAAO,EAAEC,CAAC,EAAEC,OAAO,CAAC;EACzC,CAAC;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}