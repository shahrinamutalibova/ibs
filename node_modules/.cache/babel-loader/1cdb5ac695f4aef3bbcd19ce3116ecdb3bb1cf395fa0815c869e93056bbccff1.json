{"ast":null,"code":"var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport { deepMix } from '@antv/util';\nimport { applyStyle } from '../shape/utils';\nimport { subObject } from '../utils/helper';\nimport { createComponent, maybeAppend } from './utils';\nfunction inferStyleByAlign(x, y, width, align) {\n  switch (align) {\n    case 'center':\n      return {\n        x: x + width / 2,\n        y,\n        textAlign: 'middle'\n      };\n    case 'right':\n      return {\n        x: x + width,\n        y,\n        textAlign: 'right'\n      };\n    default:\n      return {\n        x,\n        y,\n        textAlign: 'left'\n      };\n  }\n}\nconst Title = createComponent({\n  render(attributes, container) {\n    const {\n        width,\n        title,\n        subtitle,\n        spacing = 2,\n        align = 'left'\n      } = attributes,\n      style = __rest(attributes, [\"width\", \"title\", \"subtitle\", \"spacing\", \"align\"]);\n    const titleStyle = subObject(style, 'title');\n    const subtitleStyle = subObject(style, 'subtitle');\n    const mainTitle = maybeAppend(container, '.title', 'text').attr('className', 'title').call(applyStyle, Object.assign(Object.assign(Object.assign({}, inferStyleByAlign(0, 0, width, align)), {\n      fontSize: 14,\n      textBaseline: 'top',\n      text: title\n    }), titleStyle)).node();\n    const bounds = mainTitle.getLocalBounds();\n    maybeAppend(container, '.sub-title', 'text').attr('className', 'sub-title').call(selection => {\n      if (!subtitle) return selection.node().remove();\n      selection.node().attr(Object.assign(Object.assign(Object.assign({}, inferStyleByAlign(0, bounds.max[1] + spacing, width, align)), {\n        fontSize: 12,\n        textBaseline: 'top',\n        text: subtitle\n      }), subtitleStyle));\n    });\n  }\n});\n/**\n * Title Component.\n */\nexport const TitleComponent = options => {\n  return ({\n    value,\n    theme\n  }) => {\n    const {\n      x,\n      y,\n      width,\n      height\n    } = value.bbox;\n    return new Title({\n      style: deepMix({}, theme.title, Object.assign({\n        x,\n        y,\n        width,\n        height\n      }, options))\n    });\n  };\n};\nTitleComponent.props = {\n  defaultPosition: 'top',\n  defaultOrder: 2,\n  defaultSize: 36,\n  defaultCrossPadding: [20, 20],\n  defaultPadding: [12, 12]\n};","map":{"version":3,"names":["deepMix","applyStyle","subObject","createComponent","maybeAppend","inferStyleByAlign","x","y","width","align","textAlign","Title","render","attributes","container","title","subtitle","spacing","style","__rest","titleStyle","subtitleStyle","mainTitle","attr","call","Object","assign","fontSize","textBaseline","text","node","bounds","getLocalBounds","selection","remove","max","TitleComponent","options","value","theme","height","bbox","props","defaultPosition","defaultOrder","defaultSize","defaultCrossPadding","defaultPadding"],"sources":["component/title.ts"],"sourcesContent":[null],"mappings":";;;;;;;;AAAA,SAASA,OAAO,QAAQ,YAAY;AACpC,SAASC,UAAU,QAAQ,gBAAgB;AAC3C,SAASC,SAAS,QAAQ,iBAAiB;AAE3C,SAASC,eAAe,EAAEC,WAAW,QAAQ,SAAS;AAWtD,SAASC,iBAAiBA,CACxBC,CAAS,EACTC,CAAS,EACTC,KAAa,EACbC,KAA+B;EAE/B,QAAQA,KAAK;IACX,KAAK,QAAQ;MACX,OAAO;QACLH,CAAC,EAAEA,CAAC,GAAGE,KAAK,GAAG,CAAC;QAChBD,CAAC;QACDG,SAAS,EAAE;OACZ;IACH,KAAK,OAAO;MACV,OAAO;QACLJ,CAAC,EAAEA,CAAC,GAAGE,KAAK;QACZD,CAAC;QACDG,SAAS,EAAE;OACZ;IACH;MACE,OAAO;QACLJ,CAAC;QACDC,CAAC;QACDG,SAAS,EAAE;OACZ;;AAEP;AAEA,MAAMC,KAAK,GAAGR,eAAe,CAAkB;EAC7CS,MAAMA,CAACC,UAAU,EAAEC,SAAS;IAC1B,MAAM;QACJN,KAAK;QACLO,KAAK;QACLC,QAAQ;QACRC,OAAO,GAAG,CAAC;QACXR,KAAK,GAAG;MAAM,IAEZI,UAAU;MADTK,KAAK,GAAAC,MAAA,CACNN,UAAU,EAPR,kDAOL,CAAa;IAEd,MAAMO,UAAU,GAAGlB,SAAS,CAACgB,KAAK,EAAE,OAAO,CAAC;IAC5C,MAAMG,aAAa,GAAGnB,SAAS,CAACgB,KAAK,EAAE,UAAU,CAAC;IAElD,MAAMI,SAAS,GAAGlB,WAAW,CAACU,SAAS,EAAE,QAAQ,EAAE,MAAM,CAAC,CACvDS,IAAI,CAAC,WAAW,EAAE,OAAO,CAAC,CAC1BC,IAAI,CAACvB,UAAU,EAAAwB,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KACXrB,iBAAiB,CAAC,CAAC,EAAE,CAAC,EAAEG,KAAK,EAAEC,KAAK,CAAC;MACxCkB,QAAQ,EAAE,EAAE;MACZC,YAAY,EAAE,KAAK;MACnBC,IAAI,EAAEd;IAAK,IACRK,UAAU,EACb,CACDU,IAAI,EAAE;IAET,MAAMC,MAAM,GAAGT,SAAS,CAACU,cAAc,EAAE;IACzC5B,WAAW,CAACU,SAAS,EAAE,YAAY,EAAE,MAAM,CAAC,CACzCS,IAAI,CAAC,WAAW,EAAE,WAAW,CAAC,CAC9BC,IAAI,CAAES,SAAS,IAAI;MAClB,IAAI,CAACjB,QAAQ,EAAE,OAAOiB,SAAS,CAACH,IAAI,EAAE,CAACI,MAAM,EAAE;MAC/CD,SAAS,CAACH,IAAI,EAAE,CAACP,IAAI,CAAAE,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KAChBrB,iBAAiB,CAAC,CAAC,EAAE0B,MAAM,CAACI,GAAG,CAAC,CAAC,CAAC,GAAGlB,OAAO,EAAET,KAAK,EAAEC,KAAK,CAAC;QAC9DkB,QAAQ,EAAE,EAAE;QACZC,YAAY,EAAE,KAAK;QACnBC,IAAI,EAAEb;MAAQ,IACXK,aAAa,EAChB;IACJ,CAAC,CAAC;EACN;CACD,CAAC;AAEF;;;AAGA,OAAO,MAAMe,cAAc,GAAgCC,OAAO,IAAI;EACpE,OAAO,CAAC;IAAEC,KAAK;IAAEC;EAAK,CAAE,KAAI;IAC1B,MAAM;MAAEjC,CAAC;MAAEC,CAAC;MAAEC,KAAK;MAAEgC;IAAM,CAAE,GAAGF,KAAK,CAACG,IAAI;IAC1C,OAAO,IAAI9B,KAAK,CAAC;MACfO,KAAK,EAAElB,OAAO,CAAC,EAAE,EAAEuC,KAAK,CAACxB,KAAK,EAAAU,MAAA,CAAAC,MAAA;QAC5BpB,CAAC;QACDC,CAAC;QACDC,KAAK;QACLgC;MAAM,GACHH,OAAO;KAEb,CAAC;EACJ,CAAC;AACH,CAAC;AAEDD,cAAc,CAACM,KAAK,GAAG;EACrBC,eAAe,EAAE,KAAK;EACtBC,YAAY,EAAE,CAAC;EACfC,WAAW,EAAE,EAAE;EACfC,mBAAmB,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;EAC7BC,cAAc,EAAE,CAAC,EAAE,EAAE,EAAE;CACxB"},"metadata":{},"sourceType":"module","externalDependencies":[]}