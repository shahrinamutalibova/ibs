{"ast":null,"code":"import { __assign, __extends, __read, __rest } from \"tslib\";\nimport { Circle } from '@antv/g';\nimport { Component } from '../../../core';\nimport { classNames, copyAttributes, ellipsisIt, ifShow, parseSeriesAttr, renderExtDo, scaleToPixel, select, subStyleProps } from '../../../util';\nvar CLASS_NAMES = classNames({\n  layout: 'flex',\n  markerGroup: 'marker-group',\n  marker: 'marker',\n  labelGroup: 'label-group',\n  label: 'label',\n  valueGroup: 'value-group',\n  value: 'value',\n  backgroundGroup: 'background-group',\n  background: 'background'\n}, 'legend-category-item');\nfunction styleOfMarker(group) {\n  var marker = group.querySelector(CLASS_NAMES.marker.class);\n  if (marker) return marker.style;\n  return {};\n}\nvar CategoryItem = /** @class */function (_super) {\n  __extends(CategoryItem, _super);\n  function CategoryItem(options) {\n    return _super.call(this, options, {\n      span: [1, 1],\n      marker: function () {\n        return new Circle({\n          style: {\n            r: 6\n          }\n        });\n      },\n      markerSize: 10,\n      labelFill: '#646464',\n      valueFill: '#646464',\n      labelFontSize: 12,\n      valueFontSize: 12,\n      labelTextBaseline: 'middle',\n      valueTextBaseline: 'middle'\n    }) || this;\n  }\n  Object.defineProperty(CategoryItem.prototype, \"showValue\", {\n    get: function () {\n      var valueText = this.attributes.valueText;\n      if (!valueText) return false;\n      if (typeof valueText === 'string' || typeof valueText === 'number') return valueText !== '';\n      if (typeof valueText === 'function') return true;\n      return valueText.attr('text') !== '';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CategoryItem.prototype, \"actualSpace\", {\n    get: function () {\n      var label = this.labelGroup;\n      var value = this.valueGroup;\n      var markerSize = this.attributes.markerSize;\n      var _a = label.node().getBBox(),\n        labelWidth = _a.width,\n        labelHeight = _a.height;\n      var _b = value.node().getBBox(),\n        valueWidth = _b.width,\n        valueHeight = _b.height;\n      return {\n        markerWidth: markerSize,\n        labelWidth: labelWidth,\n        valueWidth: valueWidth,\n        height: Math.max(markerSize, labelHeight, valueHeight)\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CategoryItem.prototype, \"span\", {\n    get: function () {\n      var span = this.attributes.span;\n      if (!span) return [1, 1];\n      var _a = __read(parseSeriesAttr(span), 2),\n        span1 = _a[0],\n        innerSpan = _a[1];\n      var span2 = this.showValue ? innerSpan : 0;\n      var basis = span1 + span2;\n      return [span1 / basis, span2 / basis];\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CategoryItem.prototype, \"shape\", {\n    get: function () {\n      var _a;\n      var _b = this.attributes,\n        markerSize = _b.markerSize,\n        fullWidth = _b.width;\n      var actualSpace = this.actualSpace;\n      var markerWidth = actualSpace.markerWidth,\n        height = actualSpace.height;\n      var _c = this.actualSpace,\n        labelWidth = _c.labelWidth,\n        valueWidth = _c.valueWidth;\n      var _d = __read(this.spacing, 2),\n        spacing1 = _d[0],\n        spacing2 = _d[1];\n      if (fullWidth) {\n        var width_1 = fullWidth - markerSize - spacing1 - spacing2;\n        var _e = __read(this.span, 2),\n          span1 = _e[0],\n          span2 = _e[1];\n        _a = __read([span1 * width_1, span2 * width_1], 2), labelWidth = _a[0], valueWidth = _a[1];\n      }\n      var width = markerWidth + labelWidth + valueWidth + spacing1 + spacing2;\n      return {\n        width: width,\n        height: height,\n        markerWidth: markerWidth,\n        labelWidth: labelWidth,\n        valueWidth: valueWidth\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CategoryItem.prototype, \"spacing\", {\n    get: function () {\n      var spacing = this.attributes.spacing;\n      if (!spacing) return [0, 0];\n      var _a = __read(parseSeriesAttr(spacing), 2),\n        spacing1 = _a[0],\n        spacing2 = _a[1];\n      if (this.showValue) return [spacing1, spacing2];\n      return [spacing1, 0];\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CategoryItem.prototype, \"layout\", {\n    get: function () {\n      var _a = this.shape,\n        markerWidth = _a.markerWidth,\n        labelWidth = _a.labelWidth,\n        valueWidth = _a.valueWidth,\n        width = _a.width,\n        height = _a.height;\n      var _b = __read(this.spacing, 2),\n        spacing1 = _b[0],\n        spacing2 = _b[1];\n      return {\n        height: height,\n        width: width,\n        markerWidth: markerWidth,\n        labelWidth: labelWidth,\n        valueWidth: valueWidth,\n        position: [markerWidth / 2, markerWidth + spacing1, markerWidth + labelWidth + spacing1 + spacing2]\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CategoryItem.prototype, \"scaleSize\", {\n    get: function () {\n      var markerShapeStyle = styleOfMarker(this.markerGroup.node());\n      var _a = this.attributes,\n        markerSize = _a.markerSize,\n        _b = _a.markerStrokeWidth,\n        markerStrokeWidth = _b === void 0 ? markerShapeStyle.strokeWidth : _b,\n        _c = _a.markerLineWidth,\n        markerLineWidth = _c === void 0 ? markerShapeStyle.lineWidth : _c,\n        _d = _a.markerStroke,\n        markerStroke = _d === void 0 ? markerShapeStyle.stroke : _d;\n      // empirical value\n      var strokeWidth = +(markerStrokeWidth || markerLineWidth || (markerStroke ? 1 : 0)) * Math.sqrt(2);\n      var _e = this.markerGroup.node().getBBox(),\n        width = _e.width,\n        height = _e.height;\n      return (1 - strokeWidth / Math.max(width, height)) * markerSize;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  CategoryItem.prototype.renderMarker = function (container) {\n    var _this = this;\n    var marker = this.attributes.marker;\n    var style = subStyleProps(this.attributes, 'marker');\n    this.markerGroup = container.maybeAppendByClassName(CLASS_NAMES.markerGroup, 'g').style('zIndex', 0);\n    ifShow(!!marker, this.markerGroup, function () {\n      var parent = _this.markerGroup.node();\n      var oldMarker = parent.getElementsByClassName(CLASS_NAMES.marker.name)[0];\n      var newMarker = marker();\n      if (!oldMarker) {\n        select(newMarker).attr('className', CLASS_NAMES.marker.name).styles(style);\n        parent.appendChild(newMarker);\n      } else if (newMarker.nodeName === oldMarker.nodeName) {\n        copyAttributes(oldMarker, newMarker);\n        select(oldMarker).styles(style);\n      } else {\n        oldMarker.remove();\n        select(newMarker).attr('className', CLASS_NAMES.marker.name).styles(style);\n        parent.appendChild(newMarker);\n      }\n      // record the scale of marker\n      _this.markerGroup.node().scale(1 / _this.markerGroup.node().getScale()[0]);\n      scaleToPixel(_this.markerGroup.node(), _this.scaleSize, true);\n    });\n  };\n  CategoryItem.prototype.renderLabel = function (container) {\n    var _a = subStyleProps(this.attributes, 'label'),\n      label = _a.text,\n      style = __rest(_a, [\"text\"]);\n    this.labelGroup = container.maybeAppendByClassName(CLASS_NAMES.labelGroup, 'g').style('zIndex', 0);\n    this.labelGroup.maybeAppendByClassName(CLASS_NAMES.label, function () {\n      return renderExtDo(label);\n    }).styles(style);\n  };\n  CategoryItem.prototype.renderValue = function (container) {\n    var _this = this;\n    var _a = subStyleProps(this.attributes, 'value'),\n      value = _a.text,\n      style = __rest(_a, [\"text\"]);\n    this.valueGroup = container.maybeAppendByClassName(CLASS_NAMES.valueGroup, 'g').style('zIndex', 0);\n    ifShow(this.showValue, this.valueGroup, function () {\n      _this.valueGroup.maybeAppendByClassName(CLASS_NAMES.value, function () {\n        return renderExtDo(value);\n      }).styles(style);\n    });\n  };\n  CategoryItem.prototype.renderBackground = function (container) {\n    var _a = this.shape,\n      width = _a.width,\n      height = _a.height;\n    var style = subStyleProps(this.attributes, 'background');\n    this.background = container.maybeAppendByClassName(CLASS_NAMES.backgroundGroup, 'g').style('zIndex', -1);\n    this.background.maybeAppendByClassName(CLASS_NAMES.background, 'rect').styles(__assign({\n      width: width,\n      height: height\n    }, style));\n  };\n  CategoryItem.prototype.adjustLayout = function () {\n    var _a = this.layout,\n      labelWidth = _a.labelWidth,\n      valueWidth = _a.valueWidth,\n      height = _a.height,\n      _b = __read(_a.position, 3),\n      markerX = _b[0],\n      labelX = _b[1],\n      valueX = _b[2];\n    var halfHeight = height / 2;\n    this.markerGroup.styles({\n      x: markerX,\n      y: halfHeight\n    });\n    this.labelGroup.styles({\n      x: labelX,\n      y: halfHeight\n    });\n    ellipsisIt(this.labelGroup.select(CLASS_NAMES.label.class).node(), Math.ceil(labelWidth));\n    if (this.showValue) {\n      this.valueGroup.styles({\n        x: valueX,\n        y: halfHeight\n      });\n      ellipsisIt(this.valueGroup.select(CLASS_NAMES.value.class).node(), Math.ceil(valueWidth));\n    }\n  };\n  CategoryItem.prototype.render = function (attributes, container) {\n    var ctn = select(container);\n    this.renderMarker(ctn);\n    this.renderLabel(ctn);\n    this.renderValue(ctn);\n    this.renderBackground(ctn);\n    this.adjustLayout();\n  };\n  return CategoryItem;\n}(Component);\nexport { CategoryItem };","map":{"version":3,"names":["Circle","Component","classNames","copyAttributes","ellipsisIt","ifShow","parseSeriesAttr","renderExtDo","scaleToPixel","select","subStyleProps","CLASS_NAMES","layout","markerGroup","marker","labelGroup","label","valueGroup","value","backgroundGroup","background","styleOfMarker","group","querySelector","class","style","CategoryItem","_super","__extends","options","call","span","r","markerSize","labelFill","valueFill","labelFontSize","valueFontSize","labelTextBaseline","valueTextBaseline","Object","defineProperty","prototype","get","valueText","attributes","attr","_a","node","getBBox","labelWidth","width","labelHeight","height","_b","valueWidth","valueHeight","markerWidth","Math","max","__read","span1","innerSpan","span2","showValue","basis","fullWidth","actualSpace","_c","_d","spacing","spacing1","spacing2","width_1","_e","shape","position","markerShapeStyle","markerStrokeWidth","strokeWidth","markerLineWidth","lineWidth","markerStroke","stroke","sqrt","renderMarker","container","_this","maybeAppendByClassName","parent","oldMarker","getElementsByClassName","name","newMarker","styles","appendChild","nodeName","remove","scale","getScale","scaleSize","renderLabel","text","__rest","renderValue","renderBackground","__assign","adjustLayout","markerX","labelX","valueX","halfHeight","x","y","ceil","render","ctn"],"sources":["ui/legend/category/item.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}