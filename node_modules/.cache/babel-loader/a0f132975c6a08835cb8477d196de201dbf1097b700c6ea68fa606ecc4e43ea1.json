{"ast":null,"code":"import { isTranspose } from '../utils/coordinate';\n/**\n * Scale mark from nothing to desired shape in x direction.\n */\nexport const ScaleInX = (options, context) => {\n  // Small enough to hide or show very small part of mark,\n  // but bigger enough to not cause bug.\n  const ZERO = 0.0001;\n  const {\n    coordinate\n  } = context;\n  return (from, _, defaults) => {\n    const [shape] = from;\n    const {\n      transform: prefix = '',\n      fillOpacity = 1,\n      strokeOpacity = 1,\n      opacity = 1\n    } = shape.style;\n    const [transformOrigin, transform] = isTranspose(coordinate) ? [`left bottom`, `scale(1, ${ZERO})`] // left-bottom corner\n    : [`left top`, `scale(${ZERO}, 1)`]; // left-top corner\n    // Using a short fadeIn transition to hide element with scale(0.001)\n    // which is still visible.\n    const keyframes = [{\n      transform: `${prefix} ${transform}`.trimStart(),\n      transformOrigin,\n      fillOpacity: 0,\n      strokeOpacity: 0,\n      opacity: 0\n    }, {\n      transform: `${prefix} ${transform}`.trimStart(),\n      transformOrigin,\n      fillOpacity,\n      strokeOpacity,\n      opacity,\n      offset: 0.01\n    }, {\n      transform: `${prefix} scale(1, 1)`.trimStart(),\n      transformOrigin,\n      fillOpacity,\n      strokeOpacity,\n      opacity\n    }];\n    const animation = shape.animate(keyframes, Object.assign(Object.assign({}, defaults), options));\n    return animation;\n  };\n};","map":{"version":3,"names":["isTranspose","ScaleInX","options","context","ZERO","coordinate","from","_","defaults","shape","transform","prefix","fillOpacity","strokeOpacity","opacity","style","transformOrigin","keyframes","trimStart","offset","animation","animate","Object","assign"],"sources":["animation/scaleInX.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,WAAW,QAAQ,qBAAqB;AAMjD;;;AAGA,OAAO,MAAMC,QAAQ,GAAwBA,CAACC,OAAO,EAAEC,OAAO,KAAI;EAChE;EACA;EACA,MAAMC,IAAI,GAAG,MAAM;EAEnB,MAAM;IAAEC;EAAU,CAAE,GAAGF,OAAO;EAE9B,OAAO,CAACG,IAAI,EAAEC,CAAC,EAAEC,QAAQ,KAAI;IAC3B,MAAM,CAACC,KAAK,CAAC,GAAGH,IAAI;IACpB,MAAM;MACJI,SAAS,EAAEC,MAAM,GAAG,EAAE;MACtBC,WAAW,GAAG,CAAC;MACfC,aAAa,GAAG,CAAC;MACjBC,OAAO,GAAG;IAAC,CACZ,GAAGL,KAAK,CAACM,KAAK;IACf,MAAM,CAACC,eAAe,EAAEN,SAAS,CAAC,GAAqBV,WAAW,CAChEK,UAAU,CACX,GACG,CAAC,aAAa,EAAE,YAAYD,IAAI,GAAG,CAAC,CAAC;IAAA,EACrC,CAAC,UAAU,EAAE,SAASA,IAAI,MAAM,CAAC,CAAC,CAAC;IAEvC;IACA;IACA,MAAMa,SAAS,GAAG,CAChB;MACEP,SAAS,EAAE,GAAGC,MAAM,IAAID,SAAS,EAAE,CAACQ,SAAS,EAAE;MAC/CF,eAAe;MACfJ,WAAW,EAAE,CAAC;MACdC,aAAa,EAAE,CAAC;MAChBC,OAAO,EAAE;KACV,EACD;MACEJ,SAAS,EAAE,GAAGC,MAAM,IAAID,SAAS,EAAE,CAACQ,SAAS,EAAE;MAC/CF,eAAe;MACfJ,WAAW;MACXC,aAAa;MACbC,OAAO;MACPK,MAAM,EAAE;KACT,EACD;MACET,SAAS,EAAE,GAAGC,MAAM,cAAc,CAACO,SAAS,EAAE;MAC9CF,eAAe;MACfJ,WAAW;MACXC,aAAa;MACbC;KACD,CACF;IAED,MAAMM,SAAS,GAAGX,KAAK,CAACY,OAAO,CAACJ,SAAS,EAAAK,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KAAOf,QAAQ,GAAKN,OAAO,EAAG;IAEvE,OAAOkB,SAAS;EAClB,CAAC;AACH,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}